!contents -R2 -g -p -f -h
| import |
| se.uu.ub.cora.therest.fitnesse |

!1 !-PresentationRecordRelation-!
A test that first reads all predefined metadata needed to be able to add presentationRecordRelation to the system, and then tests adding and updating presentationRecordRelation

!2 Read metadata defined in code to make sure it is correct
!***> Read collectionItems (pResourceLinkItem)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataCollectionItem | pRecordRelationItem | {"record":{"data":{"children":[{"children":[{"name":"id","value":"pRecordRelationItem"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataCollectionItem"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"pRecordRelation"},{"name":"textId","value":"pRecordRelationItemText"},{"name":"defTextId","value":"pRecordRelationItemDefText"}],"name":"metadata","attributes":{"type":"collectionItem"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pRecordRelationItem","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pRecordRelationItem/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pRecordRelationItem","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read itemCollection (presentationTypeCollection)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataItemCollection | presentationTypeCollection | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationTypeCollection"},{"name":"type","value":"metadataItemCollection"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"presentationTypeCollection"},{"children":[{"name":"linkedRecordType","value":"textSystemOne"},{"name":"linkedRecordId","value":"presentationTypeCollectionText"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/textSystemOne/presentationTypeCollectionText","accept":"application/uub+record+json"}},"name":"textId"},{"children":[{"name":"linkedRecordType","value":"textSystemOne"},{"name":"linkedRecordId","value":"presentationTypeCollectionDefText"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/textSystemOne/presentationTypeCollectionDefText","accept":"application/uub+record+json"}},"name":"defTextId"},{"children":[{"repeatId":"1","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pGroupItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pGroupItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"2","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pVarItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pVarItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"3","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"containerItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/containerItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"4","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pRecordLinkItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pRecordLinkItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"5","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pCollVarItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pCollVarItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"6","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pResourceLinkItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pResourceLinkItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"7","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pRecordRelationItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pRecordRelationItem","accept":"application/uub+record+json"}},"name":"ref"}],"name":"collectionItemReferences"}],"name":"metadata","attributes":{"type":"itemCollection"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read collectionVariables (presentationTypePResourceLinkCollectionVar)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataCollectionVariable | presentationTypePRecordRelationCollectionVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationTypePRecordRelationCollectionVar"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataCollectionVariable"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"type"},{"name":"textId","value":"presentationTypePRecordRelationCollectionVarText"},{"name":"defTextId","value":"TypePRecordRelationCollectionVarDefText"},{"children":[{"name":"linkedRecordType","value":"metadataItemCollection"},{"name":"linkedRecordId","value":"presentationTypeCollection"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection","accept":"application/uub+record+json"}},"name":"refCollection"},{"name":"refParentId","value":"presentationTypeCollectionVar"},{"name":"finalValue","value":"pRecordRelation"}],"name":"metadata","attributes":{"type":"collectionVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/presentationTypePRecordRelationCollectionVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/presentationTypePRecordRelationCollectionVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/presentationTypePRecordRelationCollectionVar"}}}} | OK |

*!
!***> Read textVariable (idPResourceLinkTextVar)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataTextVariable | idPRecordRelationTextVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"idPRecordRelationTextVar"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataTextVariable"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"id"},{"name":"textId","value":"idPRecordRelationextVarText"},{"name":"defTextId","value":"idPRecordRelationTextVarDefText"},{"name":"regEx","value":"(.*PRelation$)"},{"name":"refParentId","value":"idTextVar"}],"name":"metadata","attributes":{"type":"textVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/idPRecordRelationTextVar","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/idPRecordRelationTextVar/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/idPRecordRelationTextVar","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read metadataGroups (recordInfoNewPRecordRelationLinkGroup, presentationRecordRelationNewGroup, presentationRecordRelationGroup)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataGroup | recordInfoNewPRecordRelationGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"recordInfoNewPRecordRelationGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"recordInfo"},{"name":"textId","value":"recordInfoNewPRecordRelationGroupText"},{"name":"defTextId","value":"recordInfoNewPRecordRelationGroupDefText"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"idPRecordRelationTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1","children":[{"name":"ref","value":"dataDividerLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoNewPRecordRelationGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoNewPRecordRelationGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoNewPRecordRelationGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | presentationRecordRelationNewGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationRecordRelationNewGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"presentation"},{"name":"textId","value":"presentationRecordRelationNewGroupText"},{"name":"defTextId","value":"presentationRecordRelationNewGroupDefText"},{"children":[{"repeatId":"0","name":"ref","value":"presentationTypePRecordRelationCollectionVar"}],"name":"attributeReferences"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"recordInfoNewPRecordRelationGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"3","children":[{"name":"ref","value":"presentationOfRecordRelationLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1","children":[{"name":"ref","value":"linkedPresentationRecordLinkLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"linkedPresentationGroupLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordRelationNewGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordRelationNewGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordRelationNewGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | presentationRecordRelationGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationRecordRelationGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"presentation"},{"name":"textId","value":"presentationRecordRelationGroupText"},{"name":"defTextId","value":"presentationRecordRelationGroupDefText"},{"children":[{"repeatId":"0","name":"ref","value":"presentationTypePRecordRelationCollectionVar"}],"name":"attributeReferences"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"recordInfoGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"3","children":[{"name":"ref","value":"presentationOfRecordRelationLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1","children":[{"name":"ref","value":"linkedPresentationRecordLinkLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"linkedPresentationGroupLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordRelationGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordRelationGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordRelationGroup","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read recordType ( presentationResourceLink)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| recordType | presentationRecordRelation | {"record":{"data":{"children":[{"name":"metadataId","value":"presentationRecordRelationGroup"},{"name":"abstract","value":"false"},{"children":[{"name":"id","value":"presentationRecordRelation"},{"name":"type","value":"recordType"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"presentationViewId","value":"presentationRecordRelationViewPGroup"},{"name":"presentationFormId","value":"presentationRecordRelationFormPGroup"},{"name":"newMetadataId","value":"presentationRecordRelationNewGroup"},{"name":"newPresentationFormId","value":"presentationRecordRelationFormNewPGroup"},{"name":"menuPresentationViewId","value":"presentationRecordRelationMenuPGroup"},{"name":"listPresentationViewId","value":"presentationRecordRelationListPGroup"},{"name":"searchMetadataId","value":"presentationRecordRelationSearchGroup"},{"name":"searchPresentationFormId","value":"presentationRecordRelationFormSearchPGroup"},{"name":"userSuppliedId","value":"true"},{"name":"permissionKey","value":"RECORDTYPE_PRESENTATIONRECORDRELATION"},{"name":"selfPresentationViewId","value":"presentationRecordRelationViewSelfPGroup"},{"name":"textId","value":"presentationRecordRelationText"},{"name":"defTextId","value":"presentationRecordRelationDefText"},{"name":"parentId","value":"presentation"}],"name":"recordType"},"actionLinks":{"search":{"requestMethod":"GET","rel":"search","url":"http://localhost:8080/therest/rest/record/presentationRecordRelation/","accept":"application/uub+recordList+json"},"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/recordType/presentationRecordRelation","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/presentationRecordRelation","accept":"application/uub+record+json"},"create":{"requestMethod":"POST","rel":"create","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationRecordRelation/","accept":"application/uub+record+json"},"list":{"requestMethod":"GET","rel":"list","url":"http://localhost:8080/therest/rest/record/presentationRecordRelation/","accept":"application/uub+recordList+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/recordType/presentationRecordRelation"}}}} | OK |

*!
!2 Test with presentationRecordRelation
!***> Create metadata and presentations needed to create a presentationRecordRelation

We need to create a metadataGroup and a metadataRecordLink to use as children in our metadataRecordRelation that we will present. We also need a presentationGroup and a presenationRecordLink

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataGroup | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"fitnesseLinkedRelationGroup"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}]}]},{"name":"nameInData","value":"fitnesseLinkedRelationGroup"},{"name":"textId","value":"fitnesseLinkedRelationGroupText"},{"name":"defTextId","value":"fitnesseLinkedRelationGroupDefText"},{"name":"childReferences","children":[{"name":"childReference","children":[{"name":"ref","value":"textTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"repeatId":"0"}]}],"attributes":{"type":"group"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"fitnesseLinkedRelationGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/testSystem","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"fitnesseLinkedRelationGroup"},{"name":"textId","value":"fitnesseLinkedRelationGroupText"},{"name":"defTextId","value":"fitnesseLinkedRelationGroupDefText"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"textTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/fitnesseLinkedRelationGroup","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/fitnesseLinkedRelationGroup","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataGroup/fitnesseLinkedRelationGroup"}}}} | CREATED |
| presentationGroup | {"name":"presentation","children":[{"name":"recordInfo","children":[{"name":"id","value":"fitnesseLinkedRelationPGroup"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataGroup"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationGroup"}]},{"name":"childReferences","children":[{"name":"childReference","children":[{"name":"ref","value":"textTextVarPVar"},{"name":"default","value":"ref"}],"repeatId":"0"}]}],"attributes":{"type":"pGroup"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"fitnesseLinkedRelationPGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/testSystem","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"presentationGroup"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataGroup"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationGroup"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/fitnesseLinkedRelationGroup","accept":"application/uub+record+json"}},"name":"presentationOf"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"textTextVarPVar"},{"name":"default","value":"ref"}],"name":"childReference"}],"name":"childReferences"}],"name":"presentation","attributes":{"type":"pGroup"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationGroup/fitnesseLinkedRelationPGroup","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationGroup/fitnesseLinkedRelationPGroup","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationGroup/fitnesseLinkedRelationPGroup"}}}} | CREATED |
| metadataRecordLink | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"fitnesseLinkedRelationLink"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}]}]},{"name":"nameInData","value":"fitnesseLinkedRelationLink"},{"name":"textId","value":"fitnesseLinkedRelationLinkText"},{"name":"defTextId","value":"fitnesseLinkedRelationLinkDefText"},{"name":"linkedRecordType","value":"permissionRole"}],"attributes":{"type":"recordLink"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"fitnesseLinkedRelationLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/testSystem","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataRecordLink"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"fitnesseLinkedRelationLink"},{"name":"textId","value":"fitnesseLinkedRelationLinkText"},{"name":"defTextId","value":"fitnesseLinkedRelationLinkDefText"},{"name":"linkedRecordType","value":"permissionRole"}],"name":"metadata","attributes":{"type":"recordLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/fitnesseLinkedRelationLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/fitnesseLinkedRelationLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/fitnesseLinkedRelationLink"}}}} | CREATED |
| presentationRecordLink | {"name":"presentation","children":[{"name":"recordInfo","children":[{"name":"id","value":"fitnesseLinkedRelationPLink"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataRecordLink"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationLink"}]},{"name":"mode","value":"input"}],"attributes":{"type":"pRecordLink"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"fitnesseLinkedRelationPLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/testSystem","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"presentationRecordLink"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataRecordLink"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/fitnesseLinkedRelationLink","accept":"application/uub+record+json"}},"name":"presentationOf"},{"name":"mode","value":"input"}],"name":"presentation","attributes":{"type":"pRecordLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/fitnesseLinkedRelationPLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/fitnesseLinkedRelationPLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/fitnesseLinkedRelationPLink"}}}} | CREATED |
| metadataRecordRelation | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"fitnesseRecordRelation"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}]}]},{"name":"nameInData","value":"fitnesseRecordRelation"},{"name":"textId","value":"fitnesseRecordRelationText"},{"name":"defTextId","value":"fitnesseRecordRelationDefText"},{"name":"refRecordLinkId","value":"fitnesseLinkedRelationLink"},{"name":"refMetadataGroupId","value":"fitnesseLinkedRelationGroup"}],"attributes":{"type":"recordRelation"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"fitnesseRecordRelation"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/testSystem","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataRecordRelation"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"fitnesseRecordRelation"},{"name":"textId","value":"fitnesseRecordRelationText"},{"name":"defTextId","value":"fitnesseRecordRelationDefText"},{"name":"refRecordLinkId","value":"fitnesseLinkedRelationLink"},{"name":"refMetadataGroupId","value":"fitnesseLinkedRelationGroup"}],"name":"metadata","attributes":{"type":"recordRelation"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataRecordRelation/fitnesseRecordRelation","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataRecordRelation/fitnesseRecordRelation","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataRecordRelation/fitnesseRecordRelation"}}}} | CREATED |

*!
!***> Create data of recordType presentationRecordRelation

Skapa en metadatagrupp och en presentation av metadatagruppen som ska användas i en metadataRecordRelation och en presentationRecordRelation

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| presentationRecordRelation | {"name":"presentation","children":[{"name":"recordInfo","children":[{"name":"id","value":"fitnessePRelation"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataRecordRelation"},{"name":"linkedRecordId","value":"fitnesseRecordRelation"}]},{"name":"linkedPresentationRecordLink","children":[{"name":"linkedRecordType","value":"presentationRecordLink"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationPLink"}]},{"name":"linkedPresentationGroup","children":[{"name":"linkedRecordType","value":"presentationGroup"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationPGroup"}]}],"attributes":{"type":"pRecordRelation"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"fitnessePRelation"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/testSystem","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"presentationRecordRelation"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataRecordRelation"},{"name":"linkedRecordId","value":"fitnesseRecordRelation"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataRecordRelation/fitnesseRecordRelation","accept":"application/uub+record+json"}},"name":"presentationOf"},{"children":[{"name":"linkedRecordType","value":"presentationRecordLink"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationPLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/fitnesseLinkedRelationPLink","accept":"application/uub+record+json"}},"name":"linkedPresentationRecordLink"},{"children":[{"name":"linkedRecordType","value":"presentationGroup"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationPGroup"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationGroup/fitnesseLinkedRelationPGroup","accept":"application/uub+record+json"}},"name":"linkedPresentationGroup"}],"name":"presentation","attributes":{"type":"pRecordRelation"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationRecordRelation/fitnessePRelation","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationRecordRelation/fitnessePRelation","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationRecordRelation/fitnessePRelation"}}}} | CREATED |

*!
!***> Update data of recordType presentationRecordRelation (changed dataDivider)

!| RecordEndpointFixture |
| type | id | json | testUpdateRecord? | getStatusType? |
| presentationRecordRelation | fitnessePRelation | {"name":"presentation","children":[{"name":"recordInfo","children":[{"name":"id","value":"fitnessePRelation"},{"name":"type","value":"presentationRecordRelation"},{"name":"createdBy","value":"12345"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataRecordRelation"},{"name":"linkedRecordId","value":"fitnesseRecordRelation"}]},{"name":"linkedPresentationRecordLink","children":[{"name":"linkedRecordType","value":"presentationRecordLink"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationPLink"}]},{"name":"linkedPresentationGroup","children":[{"name":"linkedRecordType","value":"presentationGroup"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationPGroup"}]}],"attributes":{"type":"pRecordRelation"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"fitnessePRelation"},{"name":"type","value":"presentationRecordRelation"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataRecordRelation"},{"name":"linkedRecordId","value":"fitnesseRecordRelation"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataRecordRelation/fitnesseRecordRelation","accept":"application/uub+record+json"}},"name":"presentationOf"},{"children":[{"name":"linkedRecordType","value":"presentationRecordLink"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationPLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/fitnesseLinkedRelationPLink","accept":"application/uub+record+json"}},"name":"linkedPresentationRecordLink"},{"children":[{"name":"linkedRecordType","value":"presentationGroup"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationPGroup"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationGroup/fitnesseLinkedRelationPGroup","accept":"application/uub+record+json"}},"name":"linkedPresentationGroup"}],"name":"presentation","attributes":{"type":"pRecordRelation"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationRecordRelation/fitnessePRelation","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationRecordRelation/fitnessePRelation","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationRecordRelation/fitnessePRelation"}}}} | OK |

*!
!2 List presentation data
!***> List data(presentation, presentationResourceLink)

!| RecordEndpointFixture |
| type | testReadRecordList? | getStatusType? |
| presentation | | OK |
| presentationRecordRelation | | OK |

*!
!2 Incorrect data
!***> Try to create data of recordType presentationResourceLink (brokenTwoOutputFormatPResLink),(this should fail as the data is incorrect)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| presentationRecordRelation | {"name":"presentationRecordRelationNewGroup","children":[{"name":"recordInfo","children":[{"name":"id","value":"fitnesseWRONGPRelation"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"testSystem"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataRecordRelation"},{"name":"linkedRecordId","value":"fitnesseRecordRelation"}]},{"name":"linkedPresentationRecordLink","children":[{"name":"linkedRecordType","value":"presentationRecordLink"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationNONEXISTINGPLink"}]},{"name":"linkedPresentationGroup","children":[{"name":"linkedRecordType","value":"presentationGroup"},{"name":"linkedRecordId","value":"fitnesseLinkedRelationPGroup"}]}],"attributes":{"type":"pRecordRelation"}} | | BAD_REQUEST |

*!

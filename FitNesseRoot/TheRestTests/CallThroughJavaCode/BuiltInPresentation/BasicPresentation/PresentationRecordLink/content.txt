!contents -R2 -g -p -f -h
| import |
| se.uu.ub.cora.therest.fitnesse |

!1 !-PresentationRecordLink-!
A test that first reads all predefined metadata needed to be able to add presentationRecordLinks to the system, and then tests adding and updating presentationRecordLink

!2 Read metadata defined in code to make sure it is correct
!***> Read collectionItems (pRecordLinkItem)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataCollectionItem | pRecordLinkItem | {"record":{"data":{"children":[{"children":[{"name":"id","value":"pRecordLinkItem"},{"name":"type","value":"metadataCollectionItem"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"pRecordLink"},{"name":"textId","value":"pRecordLinkItemText"},{"name":"defTextId","value":"pRecordLinkItemDefText"}],"name":"metadata","attributes":{"type":"collectionItem"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pRecordLinkItem","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pRecordLinkItem","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pRecordLinkItem"}}}} | OK |

*!
!***> Read itemCollection (presentationTypeCollection)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataItemCollection | presentationTypeCollection | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationTypeCollection"},{"name":"type","value":"metadataItemCollection"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"presentationTypeCollection"},{"name":"textId","value":"presentationTypeCollectionTextId"},{"name":"defTextId","value":"presentationTypeCollectionDefTextId"},{"children":[{"repeatId":"1","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pGroupItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pGroupItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"2","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pVarItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pVarItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"3","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"containerItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/containerItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"4","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pRecordLinkItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pRecordLinkItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"5","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pCollVarItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pCollVarItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"6","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pResourceLinkItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pResourceLinkItem","accept":"application/uub+record+json"}},"name":"ref"}],"name":"collectionItemReferences"}],"name":"metadata","attributes":{"type":"itemCollection"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read collectionVariables (modeCollectionVar, presentationTypeCollectionVar, presentationTypePRecordLinkCollectionVar)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataCollectionVariable | modeCollectionVar | | OK |
| metadataCollectionVariable | presentationTypeCollectionVar | | OK |
| metadataCollectionVariable | presentationTypePRecordLinkCollectionVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationTypePRecordLinkCollectionVar"},{"name":"type","value":"metadataCollectionVariable"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"type"},{"name":"textId","value":"presentationTypePRecordLinkCollectionVarText"},{"name":"defTextId","value":"presentationTypePRecordLinkCollectionVarDefText"},{"children":[{"name":"linkedRecordType","value":"metadataItemCollection"},{"name":"linkedRecordId","value":"presentationTypeCollection"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection","accept":"application/uub+record+json"}},"name":"refCollection"},{"name":"refParentId","value":"presentationTypeCollectionVar"},{"name":"finalValue","value":"pRecordLink"}],"name":"metadata","attributes":{"type":"collectionVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/presentationTypePRecordLinkCollectionVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/presentationTypePRecordLinkCollectionVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/presentationTypePRecordLinkCollectionVar"}}}} | OK |

*!
!***> Read textVariable (idPRecordLinkTextVar)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataTextVariable | idPRecordLinkTextVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"idPRecordLinkTextVar"},{"name":"type","value":"metadataTextVariable"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"id"},{"name":"textId","value":"idPRecordLinkTextVarText"},{"name":"defTextId","value":"idPRecordLinkTextVarDefText"},{"name":"regEx","value":"(.*PLink$)"},{"name":"refParentId","value":"idTextVar"}],"name":"metadata","attributes":{"type":"textVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/idPRecordLinkTextVar","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/idPRecordLinkTextVar/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/idPRecordLinkTextVar","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read metadataGroups ()

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataGroup | recordInfoPRecordLinkGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"recordInfoPRecordLinkGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"recordInfo"},{"name":"textId","value":"recordInfoText"},{"name":"defTextId","value":"recordInfoDefText"},{"children":[{"repeatId":"1","children":[{"name":"ref","value":"idPRecordLinkTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"typeTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"3","children":[{"name":"ref","value":"createdByTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"4","children":[{"name":"ref","value":"dataDividerLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoPRecordLinkGroup","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoPRecordLinkGroup","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoPRecordLinkGroup"}}}} | OK |
| metadataGroup | recordInfoNewPRecordLinkGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"recordInfoNewPRecordLinkGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"recordInfo"},{"name":"textId","value":"recordInfoText"},{"name":"defTextId","value":"recordInfoDefText"},{"children":[{"repeatId":"1","children":[{"name":"ref","value":"idPRecordLinkTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"dataDividerLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoNewPRecordLinkGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoNewPRecordLinkGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoNewPRecordLinkGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | presentationRecordLinkNewGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationRecordLinkNewGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"presentation"},{"name":"textId","value":"presentationRecordLinkNewGroupText"},{"name":"defTextId","value":"presentationRecordLinkNewGroupDefText"},{"name":"refParentId","value":"presentationRecordLinkGroup"},{"children":[{"repeatId":"0","name":"ref","value":"presentationTypePRecordLinkCollectionVar"}],"name":"attributeReferences"},{"children":[{"repeatId":"1","children":[{"name":"ref","value":"recordInfoNewPRecordLinkGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"presentationOfRecordLinkLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"3","children":[{"name":"ref","value":"modeCollectionVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"4","children":[{"name":"ref","value":"linkedRecordPresentationsGroup"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordLinkNewGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordLinkNewGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordLinkNewGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | presentationRecordLinkGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationRecordLinkGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"presentation"},{"name":"textId","value":"presentationRecordLinkGroupText"},{"name":"defTextId","value":"presentationRecordLinkGroupDefText"},{"children":[{"repeatId":"0","name":"ref","value":"presentationTypePRecordLinkCollectionVar"}],"name":"attributeReferences"},{"children":[{"repeatId":"1","children":[{"name":"ref","value":"recordInfoPRecordLinkGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"presentationOfRecordLinkLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"3","children":[{"name":"ref","value":"modeCollectionVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"4","children":[{"name":"ref","value":"linkedRecordPresentationsGroup"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordLinkGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordLinkGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationRecordLinkGroup","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read recordType ( presentationRecordLink)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| recordType | presentationRecordLink | {"record":{"data":{"children":[{"name":"metadataId","value":"presentationRecordLinkGroup"},{"name":"abstract","value":"false"},{"name":"parentId","value":"presentation"},{"children":[{"name":"id","value":"presentationRecordLink"},{"name":"type","value":"recordType"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"presentationViewId","value":"presentationRecordLinkViewPGroup"},{"name":"presentationFormId","value":"presentationRecordLinkFormPGroup"},{"name":"newMetadataId","value":"presentationRecordLinkNewGroup"},{"name":"newPresentationFormId","value":"presentationRecordLinkFormNewPGroup"},{"name":"menuPresentationViewId","value":"presentationRecordLinkMenuPGroup"},{"name":"listPresentationViewId","value":"presentationRecordLinkListPGroup"},{"name":"searchMetadataId","value":"presentationRecordLinkSearchGroup"},{"name":"searchPresentationFormId","value":"presentationRecordLinkFormSearchPGroup"},{"name":"userSuppliedId","value":"true"},{"name":"permissionKey","value":"RECORDTYPE_PRESENTATIONRECORDLINK"},{"name":"selfPresentationViewId","value":"presentationRecordLinkViewSelfPGroup"},{"name":"textId","value":"presentationRecordLinkText"},{"name":"defTextId","value":"presentationRecordLinkDefText"}],"name":"recordType"},"actionLinks":{"search":{"requestMethod":"GET","rel":"search","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/","accept":"application/uub+recordList+json"},"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/recordType/presentationRecordLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/presentationRecordLink","accept":"application/uub+record+json"},"create":{"requestMethod":"POST","rel":"create","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/","accept":"application/uub+record+json"},"list":{"requestMethod":"GET","rel":"list","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/","accept":"application/uub+recordList+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/recordType/presentationRecordLink"}}}} | OK |

*!
!2 Test with presentationRecordLink
!***> Create data of recordType presentationRecordLink (myLinkNoPresentationOfLinkedRecordPLink, myPLink)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| presentationRecordLink | {"name":"presentation","attributes":{"type":"pRecordLink"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"myLinkNoPresentationOfLinkedRecordPLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"children":[{"name":"linkedRecordType","value":"metadataRecordLink"},{"name":"linkedRecordId","value":"dataDividerCoraLink"}],"name":"presentationOf"},{"name":"mode","value":"input"}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myLinkNoPresentationOfLinkedRecordPLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"presentationRecordLink"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataRecordLink"},{"name":"linkedRecordId","value":"dataDividerCoraLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/dataDividerCoraLink","accept":"application/uub+record+json"}},"name":"presentationOf"},{"name":"mode","value":"input"}],"name":"presentation","attributes":{"type":"pRecordLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/myLinkNoPresentationOfLinkedRecordPLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/myLinkNoPresentationOfLinkedRecordPLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/myLinkNoPresentationOfLinkedRecordPLink"}}}} | CREATED |
| presentationRecordLink | {"name":"presentation","attributes":{"type":"pRecordLink"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"myPLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"children":[{"name":"linkedRecordType","value":"metadataRecordLink"},{"name":"linkedRecordId","value":"dataDividerCoraLink"}],"name":"presentationOf"},{"name":"mode","value":"input"},{"name":"linkedRecordPresentations","children":[{"name":"linkedRecordPresentation","repeatId":"1","children":[{"name":"linkedRecordType","value":"image"},{"name":"presentationId","value":"pImageGroup"}]},{"name":"linkedRecordPresentation","repeatId":"2","children":[{"name":"linkedRecordType","value":"video"},{"name":"presentationId","value":"pVideoGroup"}]}]}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myPLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"presentationRecordLink"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataRecordLink"},{"name":"linkedRecordId","value":"dataDividerCoraLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/dataDividerCoraLink","accept":"application/uub+record+json"}},"name":"presentationOf"},{"name":"mode","value":"input"},{"children":[{"repeatId":"1","children":[{"name":"linkedRecordType","value":"image"},{"name":"presentationId","value":"pImageGroup"}],"name":"linkedRecordPresentation"},{"repeatId":"2","children":[{"name":"linkedRecordType","value":"video"},{"name":"presentationId","value":"pVideoGroup"}],"name":"linkedRecordPresentation"}],"name":"linkedRecordPresentations"}],"name":"presentation","attributes":{"type":"pRecordLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/myPLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/myPLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/myPLink"}}}} | CREATED |

*!
!***> Update data of recordType presentationRecordLink

!| RecordEndpointFixture |
| type | id | json | testUpdateRecord? | getStatusType? |
| presentationRecordLink | myPLink | {"children":[{"children":[{"name":"id","value":"myPLink"},{"name":"type","value":"presentationRecordLink"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataRecordLink"},{"name":"linkedRecordId","value":"dataDividerCoraLink"}],"name":"presentationOf"},{"name":"mode","value":"input"},{"children":[{"repeatId":"1","children":[{"name":"linkedRecordType","value":"image"},{"name":"presentationId","value":"otherPImageGroup"}],"name":"linkedRecordPresentation"},{"repeatId":"2","children":[{"name":"linkedRecordType","value":"video"},{"name":"presentationId","value":"otherPVideoGroup"}],"name":"linkedRecordPresentation"}],"name":"linkedRecordPresentations"}],"name":"presentation","attributes":{"type":"pRecordLink"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myPLink"},{"name":"type","value":"presentationRecordLink"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataRecordLink"},{"name":"linkedRecordId","value":"dataDividerCoraLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/dataDividerCoraLink","accept":"application/uub+record+json"}},"name":"presentationOf"},{"name":"mode","value":"input"},{"children":[{"repeatId":"1","children":[{"name":"linkedRecordType","value":"image"},{"name":"presentationId","value":"otherPImageGroup"}],"name":"linkedRecordPresentation"},{"repeatId":"2","children":[{"name":"linkedRecordType","value":"video"},{"name":"presentationId","value":"otherPVideoGroup"}],"name":"linkedRecordPresentation"}],"name":"linkedRecordPresentations"}],"name":"presentation","attributes":{"type":"pRecordLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/myPLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/myPLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationRecordLink/myPLink"}}}} | OK |

*!
!2 List presentation data
!***> List data(presentation, presentationRecordLink)

!| RecordEndpointFixture |
| type | testReadRecordList? | getStatusType? |
| presentation | | OK |
| presentationRecordLink | | OK |

*!
!2 Incorrect data
!***> Try to create data of recordType text (this should fail as the data is incorrect)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| presentationRecordLink | {"name":"presentation","attributes":{"type":"pRecordLink"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"myPLink"}]},{"name":"presentationOf","value":"myLink"},{"name":"mode","value":"input"},{"name":"linkedRecordPresentations","children":[]}]} | | BAD_REQUEST |

*!
!2 Data needed by clients
!***> Read presentationVars

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| presentationVar | linkedRecordTypeOutputPVar | | OK |
| presentationVar | linkedRecordIdPVar | | OK |
| presentationVar | linkedRecordIdOutputPVar | | OK |
| presentationVar | linkedRepeatIdPVar | | OK |
| presentationVar | linkedRepeatIdOutputPVar | | OK |

*!
!***> Read texts

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| textSystemOne | linkedRecordTypeText | | OK |
| textSystemOne | linkedRecordIdText | | OK |
| textSystemOne | linkedRepeatIdText | | OK |

*!

!contents -R2 -g -p -f -h
| import |
| se.uu.ub.cora.therest.fitnesse |

!1 !-PresentationResourceLink-!
A test that first reads all predefined metadata needed to be able to add presentationResourceLinks to the system, and then tests adding and updating presentationResourceLink

!2 Read metadata defined in code to make sure it is correct
!***> Read collectionItems (pResourceLinkItem)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataCollectionItem | pResourceLinkItem | {"record":{"data":{"children":[{"children":[{"name":"id","value":"pResourceLinkItem"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataCollectionItem"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"pResourceLink"},{"name":"textId","value":"pResourceLinkItemText"},{"name":"defTextId","value":"pResourceLinkItemDefText"}],"name":"metadata","attributes":{"type":"collectionItem"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pResourceLinkItem","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pResourceLinkItem/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pResourceLinkItem","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read itemCollection (presentationTypeCollection)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataItemCollection | presentationTypeCollection | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationTypeCollection"},{"name":"type","value":"metadataItemCollection"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"presentationTypeCollection"},{"children":[{"name":"linkedRecordType","value":"textSystemOne"},{"name":"linkedRecordId","value":"presentationTypeCollectionText"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/textSystemOne/presentationTypeCollectionText","accept":"application/uub+record+json"}},"name":"textId"},{"children":[{"name":"linkedRecordType","value":"textSystemOne"},{"name":"linkedRecordId","value":"presentationTypeCollectionDefText"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/textSystemOne/presentationTypeCollectionDefText","accept":"application/uub+record+json"}},"name":"defTextId"},{"children":[{"repeatId":"1","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pGroupItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pGroupItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"2","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pVarItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pVarItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"3","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"containerItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/containerItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"4","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pRecordLinkItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pRecordLinkItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"5","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pCollVarItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pCollVarItem","accept":"application/uub+record+json"}},"name":"ref"},{"repeatId":"6","children":[{"name":"linkedRecordType","value":"metadataCollectionItem"},{"name":"linkedRecordId","value":"pResourceLinkItem"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/pResourceLinkItem","accept":"application/uub+record+json"}},"name":"ref"}],"name":"collectionItemReferences"}],"name":"metadata","attributes":{"type":"itemCollection"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read collectionVariables (modeCollectionVar, presentationTypeCollectionVar, presentationTypePResourceLinkCollectionVar)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataCollectionVariable | outputFormatCollectionVar | | OK |
| metadataCollectionVariable | presentationTypeCollectionVar | | OK |
| metadataCollectionVariable | presentationTypePResourceLinkCollectionVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationTypePResourceLinkCollectionVar"},{"name":"type","value":"metadataCollectionVariable"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"type"},{"name":"textId","value":"presentationTypePResourceLinkCollectionVarText"},{"name":"defTextId","value":"presentationTypePResourceLinkCollectionVarDefText"},{"children":[{"name":"linkedRecordType","value":"metadataItemCollection"},{"name":"linkedRecordId","value":"presentationTypeCollection"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/presentationTypeCollection","accept":"application/uub+record+json"}},"name":"refCollection"},{"name":"refParentId","value":"presentationTypeCollectionVar"},{"name":"finalValue","value":"pResourceLink"}],"name":"metadata","attributes":{"type":"collectionVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/presentationTypePResourceLinkCollectionVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/presentationTypePResourceLinkCollectionVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/presentationTypePResourceLinkCollectionVar"}}}} | OK |

*!
!***> Read textVariable (idPResourceLinkTextVar)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataTextVariable | idPResourceLinkTextVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"idPResourceLinkTextVar"},{"name":"type","value":"metadataTextVariable"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"id"},{"name":"textId","value":"idPResourceLinkTextVarText"},{"name":"defTextId","value":"idPResourceLinkTextVarDefText"},{"name":"regEx","value":"(.*PResLink$)"},{"name":"refParentId","value":"idTextVar"}],"name":"metadata","attributes":{"type":"textVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/idPResourceLinkTextVar","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/idPResourceLinkTextVar/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/idPResourceLinkTextVar","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read metadataGroups ()

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataGroup | recordInfoPResourceLinkGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"recordInfoPResourceLinkGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"recordInfo"},{"name":"textId","value":"recordInfoText"},{"name":"defTextId","value":"recordInfoDefText"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"idPResourceLinkTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1","children":[{"name":"ref","value":"typeTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"createdByTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"3","children":[{"name":"ref","value":"dataDividerLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoPResourceLinkGroup","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoPResourceLinkGroup","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoPResourceLinkGroup"}}}} | OK |
| metadataGroup | recordInfoNewPResourceLinkGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"recordInfoNewPResourceLinkGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"recordInfo"},{"name":"textId","value":"recordInfoNewPResourceLinkGroupText"},{"name":"defTextId","value":"recordInfoNewPResourceLinkGroupDefText"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"idPResourceLinkTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1","children":[{"name":"ref","value":"dataDividerLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoNewPResourceLinkGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoNewPResourceLinkGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/recordInfoNewPResourceLinkGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | presentationResourceLinkNewGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationResourceLinkNewGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"presentation"},{"name":"textId","value":"presentationResourceLinkNewGroupText"},{"name":"defTextId","value":"presentationResourceLinkNewGroupDefText"},{"name":"refParentId","value":"presentationResourceLinkGroup"},{"children":[{"repeatId":"0","name":"ref","value":"presentationTypePResourceLinkCollectionVar"}],"name":"attributeReferences"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"recordInfoNewPResourceLinkGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1","children":[{"name":"ref","value":"presentationOfResourceLinkLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"outputFormatCollectionVar"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"3","children":[{"name":"ref","value":"presentationChildReferencesGroup"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationResourceLinkNewGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationResourceLinkNewGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationResourceLinkNewGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | presentationResourceLinkGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"presentationResourceLinkGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"presentation"},{"name":"textId","value":"presentationResourceLinkGroupText"},{"name":"defTextId","value":"presentationResourceLinkGroupDefText"},{"children":[{"repeatId":"0","name":"ref","value":"presentationTypePResourceLinkCollectionVar"}],"name":"attributeReferences"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"recordInfoPResourceLinkGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1","children":[{"name":"ref","value":"presentationOfResourceLinkLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"outputFormatCollectionVar"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"3","children":[{"name":"ref","value":"presentationChildReferencesGroup"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationResourceLinkGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationResourceLinkGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/presentationResourceLinkGroup","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read recordType ( presentationResourceLink)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| recordType | presentationResourceLink | {"record":{"data":{"children":[{"name":"metadataId","value":"presentationResourceLinkGroup"},{"name":"abstract","value":"false"},{"name":"parentId","value":"presentation"},{"children":[{"name":"id","value":"presentationResourceLink"},{"name":"type","value":"recordType"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"presentationViewId","value":"presentationResourceLinkViewPGroup"},{"name":"presentationFormId","value":"presentationResourceLinkFormPGroup"},{"name":"newMetadataId","value":"presentationResourceLinkNewGroup"},{"name":"newPresentationFormId","value":"presentationResourceLinkFormNewPGroup"},{"name":"menuPresentationViewId","value":"presentationResourceLinkMenuPGroup"},{"name":"listPresentationViewId","value":"presentationResourceLinkListPGroup"},{"name":"searchMetadataId","value":"presentationResourceLinkSearchGroup"},{"name":"searchPresentationFormId","value":"presentationResourceLinkFormSearchPGroup"},{"name":"userSuppliedId","value":"true"},{"name":"selfPresentationViewId","value":"presentationResourceLinkViewSelfPGroup"},{"name":"textId","value":"presentationResourceLinkText"},{"name":"defTextId","value":"presentationResourceLinkDefText"}],"name":"recordType"},"actionLinks":{"search":{"requestMethod":"GET","rel":"search","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/","accept":"application/uub+recordList+json"},"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/recordType/presentationResourceLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/presentationResourceLink","accept":"application/uub+record+json"},"create":{"requestMethod":"POST","rel":"create","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/","accept":"application/uub+record+json"},"list":{"requestMethod":"GET","rel":"list","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/","accept":"application/uub+recordList+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/recordType/presentationResourceLink"}}}} | OK |

*!
!2 Test with presentationResourceLink
!***> Create data of recordType presentationResourceLink (withOutputPResLink, withChildReferencesPResLink, withOutputAndChildReferencesPResLink)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| presentationResourceLink | {"name":"presentation","children":[{"name":"recordInfo","children":[{"name":"id","value":"withOutputPResLink"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}]},{"name":"outputFormat","value":"image"}],"attributes":{"type":"pResourceLink"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"withOutputPResLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"presentationResourceLink"},{"name":"createdBy","value":"131313"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataResourceLink/masterResLink","accept":"application/uub+record+json"}},"name":"presentationOf"},{"name":"outputFormat","value":"image"}],"name":"presentation","attributes":{"type":"pResourceLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputPResLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputPResLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputPResLink"}}}} | CREATED |
| presentationResourceLink | {"name":"presentation","children":[{"name":"recordInfo","children":[{"name":"id","value":"withChildReferencesPResLink"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}]},{"name":"childReferences","children":[{"name":"childReference","children":[{"name":"ref","value":"filesizeTextVarOutputPVar"},{"name":"default","value":"ref"}],"repeatId":"0"}]}],"attributes":{"type":"pResourceLink"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"withChildReferencesPResLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"presentationResourceLink"},{"name":"createdBy","value":"131313"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataResourceLink/masterResLink","accept":"application/uub+record+json"}},"name":"presentationOf"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"filesizeTextVarOutputPVar"},{"name":"default","value":"ref"}],"name":"childReference"}],"name":"childReferences"}],"name":"presentation","attributes":{"type":"pResourceLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withChildReferencesPResLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withChildReferencesPResLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withChildReferencesPResLink"}}}} | CREATED |
| presentationResourceLink | {"name":"presentation","children":[{"name":"recordInfo","children":[{"name":"id","value":"withOutputAndChildReferencesPResLink"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}]},{"name":"childReferences","children":[{"name":"childReference","children":[{"name":"ref","value":"filesizeTextVarOutputPVar"},{"name":"default","value":"ref"}],"repeatId":"0"}]},{"name":"outputFormat","value":"image"}],"attributes":{"type":"pResourceLink"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"withOutputAndChildReferencesPResLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"presentationResourceLink"},{"name":"createdBy","value":"131313"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataResourceLink/masterResLink","accept":"application/uub+record+json"}},"name":"presentationOf"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"filesizeTextVarOutputPVar"},{"name":"default","value":"ref"}],"name":"childReference"}],"name":"childReferences"},{"name":"outputFormat","value":"image"}],"name":"presentation","attributes":{"type":"pResourceLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputAndChildReferencesPResLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputAndChildReferencesPResLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputAndChildReferencesPResLink"}}}} | CREATED |

*!
!***> Update data of recordType presentationResourceLink (withOutputPResLink, withChildReferencesPResLink, withOutputAndChildReferencesPResLink)

!| RecordEndpointFixture |
| type | id | json | testUpdateRecord? | getStatusType? |
| presentationResourceLink | withOutputPResLink | {"name":"presentation","children":[{"name":"recordInfo","children":[{"name":"id","value":"withOutputPResLink"},{"name":"type","value":"presentationResourceLink"},{"name":"createdBy","value":"131313"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}]},{"name":"outputFormat","value":"download"}],"attributes":{"type":"pResourceLink"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"withOutputPResLink"},{"name":"type","value":"presentationResourceLink"},{"name":"createdBy","value":"131313"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataResourceLink/masterResLink","accept":"application/uub+record+json"}},"name":"presentationOf"},{"name":"outputFormat","value":"download"}],"name":"presentation","attributes":{"type":"pResourceLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputPResLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputPResLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputPResLink"}}}} | OK |
| presentationResourceLink | withChildReferencesPResLink | {"name":"presentation","children":[{"name":"recordInfo","children":[{"name":"id","value":"withChildReferencesPResLink"},{"name":"type","value":"presentationResourceLink"},{"name":"createdBy","value":"131313"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}]},{"name":"childReferences","children":[{"name":"childReference","children":[{"name":"ref","value":"filenameTextVarOutputPVar"},{"name":"default","value":"ref"}],"repeatId":"0"}]}],"attributes":{"type":"pResourceLink"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"withChildReferencesPResLink"},{"name":"type","value":"presentationResourceLink"},{"name":"createdBy","value":"131313"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataResourceLink/masterResLink","accept":"application/uub+record+json"}},"name":"presentationOf"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"filenameTextVarOutputPVar"},{"name":"default","value":"ref"}],"name":"childReference"}],"name":"childReferences"}],"name":"presentation","attributes":{"type":"pResourceLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withChildReferencesPResLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withChildReferencesPResLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withChildReferencesPResLink"}}}} | OK |
| presentationResourceLink | withOutputAndChildReferencesPResLink | {"name":"presentation","children":[{"name":"recordInfo","children":[{"name":"id","value":"withOutputAndChildReferencesPResLink"},{"name":"type","value":"presentationResourceLink"},{"name":"createdBy","value":"131313"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}]},{"name":"childReferences","children":[{"name":"childReference","children":[{"name":"ref","value":"filenameTextVarOutputPVar"},{"name":"default","value":"ref"}],"repeatId":"0"}]},{"name":"outputFormat","value":"download"}],"attributes":{"type":"pResourceLink"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"withOutputAndChildReferencesPResLink"},{"name":"type","value":"presentationResourceLink"},{"name":"createdBy","value":"131313"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataResourceLink/masterResLink","accept":"application/uub+record+json"}},"name":"presentationOf"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"filenameTextVarOutputPVar"},{"name":"default","value":"ref"}],"name":"childReference"}],"name":"childReferences"},{"name":"outputFormat","value":"download"}],"name":"presentation","attributes":{"type":"pResourceLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputAndChildReferencesPResLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputAndChildReferencesPResLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/presentationResourceLink/withOutputAndChildReferencesPResLink"}}}} | OK |

*!
!2 List presentation data
!***> List data(presentation, presentationResourceLink)

!| RecordEndpointFixture |
| type | testReadRecordList? | getStatusType? |
| presentation | | OK |
| presentationResourceLink | | OK |

*!
!2 Incorrect data
!***> Try to create data of recordType presentationResourceLink (brokenTwoOutputFormatPResLink),(this should fail as the data is incorrect)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| presentationResourceLink | {"name":"presentation","children":[{"name":"recordInfo","children":[{"name":"id","value":"brokenTwoOutputFormatPResLink"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"presentationOf","children":[{"name":"linkedRecordType","value":"metadataResourceLink"},{"name":"linkedRecordId","value":"masterResLink"}]},{"name":"childReferences","children":[{"name":"childReference","children":[{"name":"ref","value":"filesizeTextVarOutputPVar"},{"name":"default","value":"ref"}],"repeatId":"0"}]},{"name":"outputFormat","value":"image"},{"name":"outputFormat","value":"download"}],"attributes":{"type":"pResourceLink"}} | | BAD_REQUEST |

*!
!2 Data needed by clients
!***> Read presentationVars

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| presentationVar | streamIdTextVarOutputPVar | | OK |
| presentationVar | filenameTextVarOutputPVar | | OK |
| presentationVar | filesizeTextVarOutputPVar | | OK |
| presentationVar | mimeTypeTextVarOutputPVar | | OK |

*!
!***> Read texts

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| textSystemOne | streamIdTextVarText | | OK |
| textSystemOne | streamIdTextVarDefText | | OK |
| textSystemOne | filenameTextVarText | | OK |
| textSystemOne | filenameTextVarDefText | | OK |
| textSystemOne | filesizeTextVarText | | OK |
| textSystemOne | filesizeTextVarDefText | | OK |
| textSystemOne | mimeTypeTextVarText | | OK |
| textSystemOne | mimeTypeTextVarDefText | | OK |

*!

!contents -R2 -g -p -f -h
| import |
| se.uu.ub.cora.therest.fitnesse |

!1 !-PermissionTest-!
A test that first reads all predefined metadata needed to be able to create permission rules and roles, and then tests adding and updating rules and roles.

!2 Read predifned metadata to make sure it is correct
!***> Read metadataGroups for persmissionRuleParts(permissionRulePartGroup, permissionRulePartActionGroup, permissionRulePartRecordTypeGroup, permissionRulePartPublishGroup, permissionRulePartDeleteGroup)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataGroup | permissionRulePartGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRulePartGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"permissionRulePart"},{"name":"textId","value":"permissionRulePartGroupText"},{"name":"defTextId","value":"permissionRulePartGroupDefText"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"permissionRulePartValueTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"X"}],"name":"childReference"}],"name":"childReferences"},{"children":[{"repeatId":"0","name":"ref","value":"permissionRulePartTypeCollectionVar"}],"name":"attributeReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | permissionRulePartActionGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRulePartActionGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"permissionRulePart"},{"name":"textId","value":"permissionRulePartActionGroupText"},{"name":"defTextId","value":"permissionRulePartActionGroupDefText"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"permissionRulePartValueTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"X"}],"name":"childReference"}],"name":"childReferences"},{"name":"refParentId","value":"permissionRulePartGroup"},{"children":[{"repeatId":"0","name":"ref","value":"permissionRulePartTypeActionCollectionVar"}],"name":"attributeReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartActionGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartActionGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartActionGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | permissionRulePartRecordTypeGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRulePartRecordTypeGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"permissionRulePart"},{"name":"textId","value":"permissionRulePartRecordTypeGroupText"},{"name":"defTextId","value":"permissionRulePartRecordTypeGroupDefText"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"permissionRulePartValueTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"X"}],"name":"childReference"}],"name":"childReferences"},{"name":"refParentId","value":"permissionRulePartGroup"},{"children":[{"repeatId":"0","name":"ref","value":"permissionRulePartTypeRecordTypeCollectionVar"}],"name":"attributeReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartRecordTypeGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartRecordTypeGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartRecordTypeGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | permissionRulePartPublishGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRulePartPublishGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"permissionRulePart"},{"name":"textId","value":"permissionRulePartPublishGroupText"},{"name":"defTextId","value":"permissionRulePartPublishGroupDefText"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"permissionRulePartValueTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"X"}],"name":"childReference"}],"name":"childReferences"},{"name":"refParentId","value":"permissionRulePartGroup"},{"children":[{"repeatId":"0","name":"ref","value":"permissionRulePartTypePublishCollectionVar"}],"name":"attributeReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartPublishGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartPublishGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartPublishGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | permissionRulePartDeleteGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRulePartDeleteGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"permissionRulePart"},{"name":"textId","value":"permissionRulePartDeleteGroupText"},{"name":"defTextId","value":"permissionRulePartDeleteGroupDefText"},{"children":[{"repeatId":"0","children":[{"name":"ref","value":"permissionRulePartValueTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"X"}],"name":"childReference"}],"name":"childReferences"},{"name":"refParentId","value":"permissionRulePartGroup"},{"children":[{"repeatId":"0","name":"ref","value":"permissionRulePartTypeDeleteCollectionVar"}],"name":"attributeReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartDeleteGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartDeleteGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRulePartDeleteGroup","accept":"application/uub+record+json"}}}} | |

*!
!***> Read metadataGroups for persmissionRule and permissionRole (permissionRuleNewGroup, permissionRuleGroup, permissionRoleNewGroup, permissionRoleGroup)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataGroup | permissionRuleNewGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRuleNewGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"permissionRule"},{"name":"textId","value":"permissionRuleNewGroupText"},{"name":"defTextId","value":"permissionRuleNewGroupDefText"},{"name":"refParentId","value":"defaultPermissionRuleGroup"},{"children":[{"repeatId":"6","children":[{"name":"ref","value":"recordInfoNewGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"0","children":[{"name":"ref","value":"permissionRulePartActionGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1","children":[{"name":"ref","value":"permissionRulePartRecordTypeGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"permissionRulePartDeleteGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"3","children":[{"name":"ref","value":"permissionRulePartPublishGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"5","children":[{"name":"ref","value":"activeStatusCollectionVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRuleNewGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRuleNewGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRuleNewGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | permissionRuleGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRuleGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"permissionRule"},{"name":"textId","value":"permissionRuleGroupText"},{"name":"defTextId","value":"permissionRuleGroupDefText"},{"children":[{"repeatId":"6","children":[{"name":"ref","value":"recordInfoGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"0","children":[{"name":"ref","value":"permissionRulePartGroup"},{"name":"repeatMin","value":"4"},{"name":"repeatMax","value":"4"}],"name":"childReference"},{"repeatId":"5","children":[{"name":"ref","value":"activeStatusCollectionVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRuleGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRuleGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRuleGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | permissionRoleNewGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRoleNewGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"permissionRole"},{"name":"textId","value":"permissionRoleNewGroupText"},{"name":"defTextId","value":"permissionRoleNewGroupDefText"},{"children":[{"repeatId":"2","children":[{"name":"ref","value":"recordInfoNewGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"0","children":[{"name":"ref","value":"permissionRuleLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"X"}],"name":"childReference"},{"repeatId":"1","children":[{"name":"ref","value":"activeStatusCollectionVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRoleNewGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRoleNewGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRoleNewGroup","accept":"application/uub+record+json"}}}} | OK |
| metadataGroup | permissionRoleGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRoleGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"permissionRole"},{"name":"textId","value":"permissionRoleGroupText"},{"name":"defTextId","value":"permissionRoleGroupDefText"},{"children":[{"repeatId":"2","children":[{"name":"ref","value":"recordInfoGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"0","children":[{"name":"ref","value":"permissionRuleLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"X"}],"name":"childReference"},{"repeatId":"1","children":[{"name":"ref","value":"activeStatusCollectionVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRoleGroup","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRoleGroup/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/permissionRoleGroup","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read collectionVars (masterResLink)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataCollectionVariable | activeStatusCollectionVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"activeStatusCollectionVar"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataCollectionVariable"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"activeStatus"},{"name":"textId","value":"activeStatusCollectionVarText"},{"name":"defTextId","value":"activeStatusCollectionVarDefText"},{"children":[{"name":"linkedRecordType","value":"metadataItemCollection"},{"name":"linkedRecordId","value":"activeStatusItemCollection"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/activeStatusItemCollection","accept":"application/uub+record+json"}},"name":"refCollection"}],"name":"metadata","attributes":{"type":"collectionVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/activeStatusCollectionVar","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/activeStatusCollectionVar/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/activeStatusCollectionVar","accept":"application/uub+record+json"}}}} | OK |
| metadataCollectionVariable | permissionRulePartTypeCollectionVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRulePartTypeCollectionVar"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataCollectionVariable"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"type"},{"name":"textId","value":"permissionRulePartTypeCollectionVarText"},{"name":"defTextId","value":"permissionRulePartTypeCollectionVarDefText"},{"children":[{"name":"linkedRecordType","value":"metadataItemCollection"},{"name":"linkedRecordId","value":"permissionRulePartTypeItemCollection"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/permissionRulePartTypeItemCollection","accept":"application/uub+record+json"}},"name":"refCollection"}],"name":"metadata","attributes":{"type":"collectionVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeCollectionVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeCollectionVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeCollectionVar"}}}} | OK |
| metadataCollectionVariable | permissionRulePartTypeActionCollectionVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRulePartTypeActionCollectionVar"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataCollectionVariable"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"type"},{"name":"textId","value":"permissionRulePartTypeActionCollectionVarText"},{"name":"defTextId","value":"permissionRulePartTypeActionCollectionVarDefText"},{"children":[{"name":"linkedRecordType","value":"metadataItemCollection"},{"name":"linkedRecordId","value":"permissionRulePartTypeItemCollection"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/permissionRulePartTypeItemCollection","accept":"application/uub+record+json"}},"name":"refCollection"},{"name":"refParentId","value":"permissionRulePartTypeCollectionVar"},{"name":"finalValue","value":"action"}],"name":"metadata","attributes":{"type":"collectionVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeActionCollectionVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeActionCollectionVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeActionCollectionVar"}}}} | OK |
| metadataCollectionVariable | permissionRulePartTypeRecordTypeCollectionVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRulePartTypeRecordTypeCollectionVar"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataCollectionVariable"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"type"},{"name":"textId","value":"permissionRulePartTypeRecordTypeCollectionVarText"},{"name":"defTextId","value":"permissionRulePartTypeRecordTypeCollectionVarDefText"},{"children":[{"name":"linkedRecordType","value":"metadataItemCollection"},{"name":"linkedRecordId","value":"permissionRulePartTypeItemCollection"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/permissionRulePartTypeItemCollection","accept":"application/uub+record+json"}},"name":"refCollection"},{"name":"refParentId","value":"permissionRulePartTypeCollectionVar"},{"name":"finalValue","value":"recordType"}],"name":"metadata","attributes":{"type":"collectionVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeRecordTypeCollectionVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeRecordTypeCollectionVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeRecordTypeCollectionVar"}}}} | OK |
| metadataCollectionVariable | permissionRulePartTypePublishCollectionVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRulePartTypePublishCollectionVar"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataCollectionVariable"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"type"},{"name":"textId","value":"permissionRulePartTypePublishCollectionVarText"},{"name":"defTextId","value":"permissionRulePartTypePublishCollectionVarDefText"},{"children":[{"name":"linkedRecordType","value":"metadataItemCollection"},{"name":"linkedRecordId","value":"permissionRulePartTypeItemCollection"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/permissionRulePartTypeItemCollection","accept":"application/uub+record+json"}},"name":"refCollection"},{"name":"refParentId","value":"permissionRulePartTypeCollectionVar"},{"name":"finalValue","value":"publish"}],"name":"metadata","attributes":{"type":"collectionVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypePublishCollectionVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypePublishCollectionVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypePublishCollectionVar"}}}} | OK |
| metadataCollectionVariable | permissionRulePartTypeDeleteCollectionVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"permissionRulePartTypeDeleteCollectionVar"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataCollectionVariable"},{"name":"createdBy","value":"12345"}],"name":"recordInfo"},{"name":"nameInData","value":"type"},{"name":"textId","value":"permissionRulePartTypeDeleteCollectionVarText"},{"name":"defTextId","value":"permissionRulePartTypeDeleteCollectionVarDefText"},{"children":[{"name":"linkedRecordType","value":"metadataItemCollection"},{"name":"linkedRecordId","value":"permissionRulePartTypeItemCollection"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/permissionRulePartTypeItemCollection","accept":"application/uub+record+json"}},"name":"refCollection"},{"name":"refParentId","value":"permissionRulePartTypeCollectionVar"},{"name":"finalValue","value":"delete"}],"name":"metadata","attributes":{"type":"collectionVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeDeleteCollectionVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeDeleteCollectionVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/permissionRulePartTypeDeleteCollectionVar"}}}} | OK |

*!
!***> Read recordType (permissionRule, permissionRole)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| recordType | permissionRule | {"record":{"data":{"children":[{"name":"metadataId","value":"defaultPermissionRuleGroup"},{"name":"abstract","value":"false"},{"children":[{"name":"id","value":"permissionRule"},{"name":"type","value":"recordType"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"presentationViewId","value":"permissionRuleViewPGroup"},{"name":"presentationFormId","value":"permissionRuleFormPGroup"},{"name":"newMetadataId","value":"permissionRuleNewGroup"},{"name":"newPresentationFormId","value":"permissionRuleFormNewPGroup"},{"name":"menuPresentationViewId","value":"permissionRuleMenuPGroup"},{"name":"listPresentationViewId","value":"permissionRuleListPGroup"},{"name":"searchMetadataId","value":"permissionRuleVarSearchGroup"},{"name":"searchPresentationFormId","value":"permissionRuleFormSearchPGroup"},{"name":"userSuppliedId","value":"true"},{"name":"selfPresentationViewId","value":"permissionRuleViewSelfPGroup"},{"name":"textId","value":"permissionRuleText"},{"name":"defTextId","value":"permissionRuleDefText"}],"name":"recordType"},"actionLinks":{"search":{"requestMethod":"GET","rel":"search","url":"http://localhost:8080/therest/rest/record/permissionRule/","accept":"application/uub+recordList+json"},"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/recordType/permissionRule","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/permissionRule","accept":"application/uub+record+json"},"create":{"requestMethod":"POST","rel":"create","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/permissionRule/","accept":"application/uub+record+json"},"list":{"requestMethod":"GET","rel":"list","url":"http://localhost:8080/therest/rest/record/permissionRule/","accept":"application/uub+recordList+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/recordType/permissionRule"}}}} | OK |
| recordType | permissionRole | {"record":{"data":{"children":[{"name":"metadataId","value":"permissionRoleGroup"},{"name":"abstract","value":"false"},{"children":[{"name":"id","value":"permissionRole"},{"name":"type","value":"recordType"},{"name":"createdBy","value":"12345"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"presentationViewId","value":"permissionRoleViewPGroup"},{"name":"presentationFormId","value":"permissionRoleFormPGroup"},{"name":"newMetadataId","value":"permissionRoleNewGroup"},{"name":"newPresentationFormId","value":"permissionRoleFormNewPGroup"},{"name":"menuPresentationViewId","value":"permissionRoleMenuPGroup"},{"name":"listPresentationViewId","value":"permissionRoleListPGroup"},{"name":"searchMetadataId","value":"permissionRoleSearchGroup"},{"name":"searchPresentationFormId","value":"permissionRoleFormSearchPGroup"},{"name":"userSuppliedId","value":"true"},{"name":"selfPresentationViewId","value":"permissionRoleViewSelfPGroup"},{"name":"textId","value":"permissionRoleText"},{"name":"defTextId","value":"permissionRoleDefText"}],"name":"recordType"},"actionLinks":{"search":{"requestMethod":"GET","rel":"search","url":"http://localhost:8080/therest/rest/record/permissionRole/","accept":"application/uub+recordList+json"},"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/recordType/permissionRole","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/permissionRole","accept":"application/uub+record+json"},"create":{"requestMethod":"POST","rel":"create","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/permissionRole/","accept":"application/uub+record+json"},"list":{"requestMethod":"GET","rel":"list","url":"http://localhost:8080/therest/rest/record/permissionRole/","accept":"application/uub+recordList+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/recordType/permissionRole"}}}} | OK |

*!
!2 Test with new permissionRule
!***> Create data of recordType permissionRule

!| RecordEndpointFixture |
| type | id | json | testCreateRecord? | getStatusType? | getCreatedId? |
| permissionRule | myPermissionRule | {"name":"permissionRule","children":[{"name":"recordInfo","children":[{"name":"id","value":"myPermissionRule"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"permissionRulePart","children":[{"name":"permissionRulePartValue","value":"system.read","repeatId":"0"}],"attributes":{"type":"action"}},{"name":"permissionRulePart","children":[{"name":"permissionRulePartValue","value":"system.book","repeatId":"0"}],"attributes":{"type":"recordType"}},{"name":"permissionRulePart","children":[{"name":"permissionRulePartValue","value":"system.deleted","repeatId":"0"}],"attributes":{"type":"delete"}},{"name":"permissionRulePart","children":[{"name":"permissionRulePartValue","value":"system.published","repeatId":"0"}],"attributes":{"type":"publish"}},{"name":"activeStatus","value":"active"}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myPermissionRule"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"permissionRule"},{"name":"createdBy","value":"131313"}],"name":"recordInfo"},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.read"}],"name":"permissionRulePart","attributes":{"type":"action"}},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.book"}],"name":"permissionRulePart","attributes":{"type":"recordType"}},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.deleted"}],"name":"permissionRulePart","attributes":{"type":"delete"}},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.published"}],"name":"permissionRulePart","attributes":{"type":"publish"}},{"name":"activeStatus","value":"active"}],"name":"permissionRule"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/permissionRule/myPermissionRule","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/permissionRule/myPermissionRule","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/permissionRule/myPermissionRule"}}}} | CREATED | $createdId= |

*!
!***> Read permissionRule

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| permissionRule | myPermissionRule | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myPermissionRule"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"permissionRule"},{"name":"createdBy","value":"131313"}],"name":"recordInfo"},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.read"}],"name":"permissionRulePart","attributes":{"type":"action"}},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.book"}],"name":"permissionRulePart","attributes":{"type":"recordType"}},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.deleted"}],"name":"permissionRulePart","attributes":{"type":"delete"}},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.published"}],"name":"permissionRulePart","attributes":{"type":"publish"}},{"name":"activeStatus","value":"active"}],"name":"permissionRule"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/permissionRule/myPermissionRule","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/permissionRule/myPermissionRule","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/permissionRule/myPermissionRule"}}}} | OK |

*!
!***> Update data of recordType permissionRule

!| RecordEndpointFixture |
| type | id | json | testUpdateRecord? | getStatusType? |
| permissionRule | myPermissionRule | {"name":"permissionRule","children":[{"name":"recordInfo","children":[{"name":"id","value":"myPermissionRule"},{"name":"type","value":"permissionRule"},{"name":"createdBy","value":"131313"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"permissionRulePart","children":[{"name":"permissionRulePartValue","value":"system.read","repeatId":"0"}],"attributes":{"type":"action"}},{"name":"permissionRulePart","children":[{"name":"permissionRulePartValue","value":"system.book","repeatId":"0"}],"attributes":{"type":"recordType"}},{"name":"permissionRulePart","children":[{"name":"permissionRulePartValue","value":"system.deleted","repeatId":"0"}],"attributes":{"type":"delete"}},{"name":"permissionRulePart","children":[{"name":"permissionRulePartValue","value":"system.unpublished","repeatId":"0"}],"attributes":{"type":"publish"}},{"name":"activeStatus","value":"active"}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myPermissionRule"},{"name":"type","value":"permissionRule"},{"name":"createdBy","value":"131313"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.read"}],"name":"permissionRulePart","attributes":{"type":"action"}},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.book"}],"name":"permissionRulePart","attributes":{"type":"recordType"}},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.deleted"}],"name":"permissionRulePart","attributes":{"type":"delete"}},{"children":[{"repeatId":"0","name":"permissionRulePartValue","value":"system.unpublished"}],"name":"permissionRulePart","attributes":{"type":"publish"}},{"name":"activeStatus","value":"active"}],"name":"permissionRule"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/permissionRule/myPermissionRule","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/permissionRule/myPermissionRule","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/permissionRule/myPermissionRule"}}}} | OK |

*!
!***> List data(permissionRule)

!| RecordEndpointFixture |
| type | testReadRecordList? | getStatusType? |
| permissionRule | | OK |

*!
!2 Test with new permissionRole
!***> Create data of recordType permissionRole

!| RecordEndpointFixture |
| type | id | json | testCreateRecord? | getStatusType? | getCreatedId? |
| permissionRole | myPermissionRole | {"name":"permissionRole","children":[{"name":"recordInfo","children":[{"name":"id","value":"myPermissionRole"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"permissionRuleLink","children":[{"name":"linkedRecordType","value":"permissionRule"},{"name":"linkedRecordId","value":"myPermissionRule"}],"repeatId":"0"},{"name":"activeStatus","value":"active"}]} | | CREATED | $createdId= |

*!
!***> Read permissionRole

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| permissionRole | myPermissionRole | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myPermissionRole"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"permissionRole"},{"name":"createdBy","value":"131313"}],"name":"recordInfo"},{"repeatId":"0","children":[{"name":"linkedRecordType","value":"permissionRule"},{"name":"linkedRecordId","value":"myPermissionRule"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/permissionRule/myPermissionRule","accept":"application/uub+record+json"}},"name":"permissionRuleLink"},{"name":"activeStatus","value":"active"}],"name":"permissionRole"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/permissionRole/myPermissionRole","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/permissionRole/myPermissionRole","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/permissionRole/myPermissionRole"}}}} | OK |

*!
!***> Update data of recordType permissionRole

!| RecordEndpointFixture |
| type | id | json | testUpdateRecord? | getStatusType? |
| permissionRole | myPermissionRole | {"name":"permissionRole","children":[{"name":"recordInfo","children":[{"name":"id","value":"myPermissionRole"},{"name":"type","value":"permissionRole"},{"name":"createdBy","value":"131313"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"permissionRuleLink","children":[{"name":"linkedRecordType","value":"permissionRule"},{"name":"linkedRecordId","value":"myPermissionRule"}],"repeatId":"0"},{"name":"activeStatus","value":"inactive"}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myPermissionRole"},{"name":"type","value":"permissionRole"},{"name":"createdBy","value":"131313"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"repeatId":"0","children":[{"name":"linkedRecordType","value":"permissionRule"},{"name":"linkedRecordId","value":"myPermissionRule"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/permissionRule/myPermissionRule","accept":"application/uub+record+json"}},"name":"permissionRuleLink"},{"name":"activeStatus","value":"inactive"}],"name":"permissionRole"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/permissionRole/myPermissionRole","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/permissionRole/myPermissionRole","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/permissionRole/myPermissionRole"}}}} | OK |

*!
!***> List data(binary, image, sound)

!| RecordEndpointFixture |
| type | testReadRecordList? | getStatusType? |
| permissionRole | | OK |

*!

!contents -R2 -g -p -f -h
| import |
| se.uu.ub.cora.therest.fitnesse |

!***> Try to create data of recordType yesNoUnknown (this should fail as the recordType does not exist yet)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| yesNoUnknown | {"name":"yesNoUnknown","children":[{"name":"recordInfo","children":[{"name":"id","value":"myYesNoUnknown"}]},{"name":"yesNoUnknownVar","value":"yes"}]} | | NOT_FOUND |

*!
!***> Create collectionItems

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataCollectionItem | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"itemYes"}]},{"name":"nameInData","value":"yes"},{"name":"textId","value":"itemYesText"},{"name":"defTextId","value":"itemYesDefText"}],"attributes":{"type":"collectionItem"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"itemYes"},{"name":"type","value":"metadataCollectionItem"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"yes"},{"name":"textId","value":"itemYesText"},{"name":"defTextId","value":"itemYesDefText"}],"name":"metadata","attributes":{"type":"collectionItem"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemYes","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemYes","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemYes","accept":"application/uub+record+json"}}}} | CREATED |
| metadataCollectionItem | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"itemNo"}]},{"name":"nameInData","value":"no"},{"name":"textId","value":"itemNoText"},{"name":"defTextId","value":"itemNoDefText"}],"attributes":{"type":"collectionItem"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"itemNo"},{"name":"type","value":"metadataCollectionItem"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"no"},{"name":"textId","value":"itemNoText"},{"name":"defTextId","value":"itemNoDefText"}],"name":"metadata","attributes":{"type":"collectionItem"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemNo","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemNo","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemNo","accept":"application/uub+record+json"}}}} | CREATED |
| metadataCollectionItem | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"itemUnknown"}]},{"name":"nameInData","value":"unknown"},{"name":"textId","value":"itemUnknownText"},{"name":"defTextId","value":"itemUnknownDefText"}],"attributes":{"type":"collectionItem"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"itemUnknown"},{"name":"type","value":"metadataCollectionItem"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"unknown"},{"name":"textId","value":"itemUnknownText"},{"name":"defTextId","value":"itemUnknownDefText"}],"name":"metadata","attributes":{"type":"collectionItem"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemUnknown","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemUnknown","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemUnknown","accept":"application/uub+record+json"}}}} | CREATED |

*!
!***> Create itemCollection

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataItemCollection | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"yesNoUnknown"}]},{"name":"nameInData","value":"yesNoUnknown"},{"name":"textId","value":"itemYesNoUnknownText"},{"name":"defTextId","value":"itemYesNoUnknownDefText"},{"name":"collectionItemReferences","children":[{"name":"ref","repeatId":"0","value":"itemYes"},{"name":"ref","repeatId":"1","value":"itemNo"},{"name":"ref","repeatId":"2","value":"itemUnknown"}]}],"attributes":{"type":"itemCollection"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"yesNoUnknown"},{"name":"type","value":"metadataItemCollection"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"yesNoUnknown"},{"name":"textId","value":"itemYesNoUnknownText"},{"name":"defTextId","value":"itemYesNoUnknownDefText"},{"children":[{"repeatId":"0","name":"ref","value":"itemYes"},{"repeatId":"1","name":"ref","value":"itemNo"},{"repeatId":"2","name":"ref","value":"itemUnknown"}],"name":"collectionItemReferences"}],"name":"metadata","attributes":{"type":"itemCollection"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/yesNoUnknown","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/yesNoUnknown","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/yesNoUnknown","accept":"application/uub+record+json"}}}} | CREATED |

*!
!***> Create collectionVariable

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataCollectionVariable | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"yesNoUnknownVar"}]},{"name":"nameInData","value":"yesNoUnknownVar"},{"name":"textId","value":"itemYesNoUnknownVarText"},{"name":"defTextId","value":"itemYesNoUnknownVarDefText"},{"name":"refCollectionId","value":"yesNoUnknown"}],"attributes":{"type":"collectionVariable"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"yesNoUnknownVar"},{"name":"type","value":"metadataCollectionVariable"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"yesNoUnknownVar"},{"name":"textId","value":"itemYesNoUnknownVarText"},{"name":"defTextId","value":"itemYesNoUnknownVarDefText"},{"name":"refCollectionId","value":"yesNoUnknown"}],"name":"metadata","attributes":{"type":"collectionVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/yesNoUnknownVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/yesNoUnknownVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/yesNoUnknownVar","accept":"application/uub+record+json"}}}} | CREATED |

*!
!***> Create metadataGroups needed for recordType yesNoUnknown

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataGroup | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"yesNoUnknownGroupNew"}]},{"name":"nameInData","value":"yesNoUnknown"},{"name":"textId","value":"yesNoUnknownGroupNewText"},{"name":"defTextId","value":"yesNoUnknownGroupNewDefText"},{"name":"childReferences","children":[{"name":"childReference","repeatId":"1","children":[{"name":"ref","value":"recordInfoNew"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]},{"name":"childReference","repeatId":"1s","children":[{"name":"ref","value":"yesNoUnknownVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"5"}]}]}],"attributes":{"type":"group"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"yesNoUnknownGroupNew"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"yesNoUnknown"},{"name":"textId","value":"yesNoUnknownGroupNewText"},{"name":"defTextId","value":"yesNoUnknownGroupNewDefText"},{"children":[{"repeatId":"1","children":[{"name":"ref","value":"recordInfoNew"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1s","children":[{"name":"ref","value":"yesNoUnknownVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"5"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesNoUnknownGroupNew","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesNoUnknownGroupNew","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesNoUnknownGroupNew","accept":"application/uub+record+json"}}}} | CREATED |
| metadataGroup | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"yesNoUnknownGroup"}]},{"name":"nameInData","value":"yesNoUnknown"},{"name":"textId","value":"yesNoUnknownGroupText"},{"name":"defTextId","value":"yesNoUnknownGroupDefText"},{"name":"childReferences","children":[{"name":"childReference","repeatId":"1","children":[{"name":"ref","value":"recordInfo"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]},{"name":"childReference","repeatId":"1s","children":[{"name":"ref","value":"yesNoUnknownVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"5"}]}]}],"attributes":{"type":"group"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"yesNoUnknownGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"yesNoUnknown"},{"name":"textId","value":"yesNoUnknownGroupText"},{"name":"defTextId","value":"yesNoUnknownGroupDefText"},{"children":[{"repeatId":"1","children":[{"name":"ref","value":"recordInfo"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1s","children":[{"name":"ref","value":"yesNoUnknownVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"5"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesNoUnknownGroup","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesNoUnknownGroup","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesNoUnknownGroup","accept":"application/uub+record+json"}}}} | CREATED |

*!
!***> Create the recordType yesNoUnknown

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| recordType | {"name":"recordType","children":[{"name":"recordInfo","children":[{"name":"id","value":"yesNoUnknown"}]},{"name":"metadataId","value":"yesNoUnknownGroup"},{"name":"presentationViewId","value":"pgYesNoUnknownView"},{"name":"presentationFormId","value":"pgYesNoUnknownForm"},{"name":"newMetadataId","value":"yesNoUnknownGroupNew"},{"name":"newPresentationFormId","value":"pgYesNoUnknownFormNew"},{"name":"listPresentationViewId","value":"pgYesNoUnknownList"},{"name":"searchMetadataId","value":"yesNoUnknownSearch"},{"name":"searchPresentationFormId","value":"pgYesNoUnknownSearchForm"},{"name":"userSuppliedId","value":"true"},{"name":"permissionKey","value":"RECORDTYPE_YESNOUNKNOWN"},{"name":"selfPresentationViewId","value":"pgyesNoUnknownSelf"},{"name":"abstract","value":"false"}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"yesNoUnknown"},{"name":"type","value":"recordType"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"metadataId","value":"yesNoUnknownGroup"},{"name":"presentationViewId","value":"pgYesNoUnknownView"},{"name":"presentationFormId","value":"pgYesNoUnknownForm"},{"name":"newMetadataId","value":"yesNoUnknownGroupNew"},{"name":"newPresentationFormId","value":"pgYesNoUnknownFormNew"},{"name":"listPresentationViewId","value":"pgYesNoUnknownList"},{"name":"searchMetadataId","value":"yesNoUnknownSearch"},{"name":"searchPresentationFormId","value":"pgYesNoUnknownSearchForm"},{"name":"userSuppliedId","value":"true"},{"name":"permissionKey","value":"RECORDTYPE_YESNOUNKNOWN"},{"name":"selfPresentationViewId","value":"pgyesNoUnknownSelf"},{"name":"abstract","value":"false"}],"name":"recordType"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/yesNoUnknown","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/yesNoUnknown","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/yesNoUnknown","accept":"application/uub+record+json"}}}} | CREATED |

*!
!***> Create data of recordType yesNoUnknown

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| yesNoUnknown | {"name":"yesNoUnknown","children":[{"name":"recordInfo","children":[{"name":"id","value":"myYesNoUnknown"}]},{"name":"yesNoUnknownVar","repeatId":"1","value":"yes"}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myYesNoUnknown"},{"name":"type","value":"yesNoUnknown"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"repeatId":"1","name":"yesNoUnknownVar","value":"yes"}],"name":"yesNoUnknown"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yesNoUnknown/myYesNoUnknown","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yesNoUnknown/myYesNoUnknown","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yesNoUnknown/myYesNoUnknown","accept":"application/uub+record+json"}}}} | CREATED |

*!
!***> Update data of recordType yesNoUnknown

!| RecordEndpointFixture |
| type | id | json | testUpdateRecord? | getStatusType? |
| yesNoUnknown | myYesNoUnknown | {"children":[{"children":[{"name":"id","value":"myYesNoUnknown"},{"name":"type","value":"yesNoUnknown"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"yesNoUnknownVar","repeatId":"1","value":"no"}],"name":"yesNoUnknown"} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myYesNoUnknown"},{"name":"type","value":"yesNoUnknown"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"repeatId":"1","name":"yesNoUnknownVar","value":"no"}],"name":"yesNoUnknown"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yesNoUnknown/myYesNoUnknown","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yesNoUnknown/myYesNoUnknown","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yesNoUnknown/myYesNoUnknown","accept":"application/uub+record+json"}}}} | OK |
| | | | | |

*!
!***> Try to create data of recordType yesNoUnknown (this should fail as the data is malformed)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| yesNoUnknown | {"name":"yesNoUnknown","children":[{"name":"recordInfo","children":[{"name":"id","value":"myYesNoUnknown"}]},{"name":"yesNoUnknownVar","repeatId":"1","value":"might"}]} | | BAD_REQUEST |
| yesNoUnknown | {"name":"yesNoUnknown2","children":[{"name":"recordInfo","children":[{"name":"id","value":"myYesNoUnknown"}]},{"name":"yesNoUnknownVar","repeatId":"1","value":"yes"}]} | | BAD_REQUEST |

*!
!***> Read data of recordType yesNoUnknown to make sure it was stored ok

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| yesNoUnknown | myYesNoUnknown | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myYesNoUnknown"},{"name":"type","value":"yesNoUnknown"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"repeatId":"1","name":"yesNoUnknownVar","value":"no"}],"name":"yesNoUnknown"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yesNoUnknown/myYesNoUnknown","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yesNoUnknown/myYesNoUnknown","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yesNoUnknown/myYesNoUnknown","accept":"application/uub+record+json"}}}} | OK |

*!
!2 !-CollectionVariableChild-!
!***> Create collectionVariableChild

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataCollectionVariableChild | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"yesVar"}]},{"name":"nameInData","value":"yesNoUnknownVar"},{"name":"textId","value":"itemYesNoUnknownVarText"},{"name":"defTextId","value":"itemYesNoUnknownVarDefText"},{"name":"refCollectionId","value":"yesNoUnknown"},{"name":"refParentId","value":"yesNoUnknownVar"},{"name":"finalValue","value":"yes"}],"attributes":{"type":"collectionVariableChild"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"yesVar"},{"name":"type","value":"metadataCollectionVariableChild"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"yesNoUnknownVar"},{"name":"textId","value":"itemYesNoUnknownVarText"},{"name":"defTextId","value":"itemYesNoUnknownVarDefText"},{"name":"refCollectionId","value":"yesNoUnknown"},{"name":"refParentId","value":"yesNoUnknownVar"},{"name":"finalValue","value":"yes"}],"name":"metadata","attributes":{"type":"collectionVariableChild"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariableChild/yesVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariableChild/yesVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariableChild/yesVar","accept":"application/uub+record+json"}}}} | CREATED |

*!
!***> Create metadataGroups needed for recordType yes

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataGroup | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"yesGroupNew"}]},{"name":"nameInData","value":"yes"},{"name":"textId","value":"yesGroupNewText"},{"name":"defTextId","value":"yesGroupNewDefText"},{"name":"childReferences","children":[{"name":"childReference","repeatId":"1","children":[{"name":"ref","value":"recordInfoNew"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]},{"name":"childReference","repeatId":"1s","children":[{"name":"ref","value":"yesVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]}]}],"attributes":{"type":"group"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"yesGroupNew"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"yes"},{"name":"textId","value":"yesGroupNewText"},{"name":"defTextId","value":"yesGroupNewDefText"},{"children":[{"repeatId":"1","children":[{"name":"ref","value":"recordInfoNew"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1s","children":[{"name":"ref","value":"yesVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesGroupNew","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesGroupNew","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesGroupNew","accept":"application/uub+record+json"}}}} | CREATED |
| metadataGroup | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"yesGroup"}]},{"name":"nameInData","value":"yes"},{"name":"textId","value":"yesGroupText"},{"name":"defTextId","value":"yesGroupDefText"},{"name":"childReferences","children":[{"name":"childReference","repeatId":"1","children":[{"name":"ref","value":"recordInfo"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]},{"name":"childReference","repeatId":"1s","children":[{"name":"ref","value":"yesVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]}]}],"attributes":{"type":"group"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"yesGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"yes"},{"name":"textId","value":"yesGroupText"},{"name":"defTextId","value":"yesGroupDefText"},{"children":[{"repeatId":"1","children":[{"name":"ref","value":"recordInfo"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"1s","children":[{"name":"ref","value":"yesVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesGroup","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesGroup","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/yesGroup","accept":"application/uub+record+json"}}}} | CREATED |

*!
!***> Create the recordType yes

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| recordType | {"name":"recordType","children":[{"name":"recordInfo","children":[{"name":"id","value":"yes"}]},{"name":"metadataId","value":"yesGroup"},{"name":"presentationViewId","value":"pgYesView"},{"name":"presentationFormId","value":"pgYesForm"},{"name":"newMetadataId","value":"yesGroupNew"},{"name":"newPresentationFormId","value":"pgYesFormNew"},{"name":"listPresentationViewId","value":"pgYesList"},{"name":"searchMetadataId","value":"yesSearch"},{"name":"searchPresentationFormId","value":"pgYesSearchForm"},{"name":"userSuppliedId","value":"true"},{"name":"permissionKey","value":"RECORDTYPE_YES"},{"name":"selfPresentationViewId","value":"pgYesSelf"},{"name":"abstract","value":"false"}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"yes"},{"name":"type","value":"recordType"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"metadataId","value":"yesGroup"},{"name":"presentationViewId","value":"pgYesView"},{"name":"presentationFormId","value":"pgYesForm"},{"name":"newMetadataId","value":"yesGroupNew"},{"name":"newPresentationFormId","value":"pgYesFormNew"},{"name":"listPresentationViewId","value":"pgYesList"},{"name":"searchMetadataId","value":"yesSearch"},{"name":"searchPresentationFormId","value":"pgYesSearchForm"},{"name":"userSuppliedId","value":"true"},{"name":"permissionKey","value":"RECORDTYPE_YES"},{"name":"selfPresentationViewId","value":"pgYesSelf"},{"name":"abstract","value":"false"}],"name":"recordType"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/yes","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/yes","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/yes","accept":"application/uub+record+json"}}}} | CREATED |

*!
!***> Create data of recordType yes

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| yes | {"name":"yes","children":[{"name":"recordInfo","children":[{"name":"id","value":"myYes"}]},{"name":"yesNoUnknownVar","value":"yes"}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myYes"},{"name":"type","value":"yes"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"yesNoUnknownVar","value":"yes"}],"name":"yes"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yes/myYes","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yes/myYes","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yes/myYes","accept":"application/uub+record+json"}}}} | CREATED |

*!
!***> Update data of recordType yesNoUnknown

!| RecordEndpointFixture |
| type | id | json | testUpdateRecord? | getStatusType? |
| yes | myYes | {"children":[{"children":[{"name":"id","value":"myYes"},{"name":"type","value":"yes"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"yesNoUnknownVar","value":"yes"}],"name":"yes"} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myYes"},{"name":"type","value":"yes"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"yesNoUnknownVar","value":"yes"}],"name":"yes"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yes/myYes","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yes/myYes","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yes/myYes","accept":"application/uub+record+json"}}}} | OK |
| yes | myYes | {"children":[{"children":[{"name":"id","value":"myYes"},{"name":"type","value":"yes"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"yesNoUnknownVar","value":"no"}],"name":"yes"} | | BAD_REQUEST |

*!
!***> Try to create data of recordType yesNoUnknown (this should fail as the data is malformed)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| yes | {"name":"yes","children":[{"name":"recordInfo","children":[{"name":"id","value":"myYes"}]},{"name":"yesNoUnknownVar","value":"might"}]} | | BAD_REQUEST |
| yes | {"name":"yes","children":[{"name":"recordInfo","children":[{"name":"id","value":"myYes"}]},{"name":"yesNoUnknownVar","value":"no"}]} | | BAD_REQUEST |
| yes | {"name":"yes2","children":[{"name":"recordInfo","children":[{"name":"id","value":"myYes"}]},{"name":"yesNoUnknownVar","value":"yes"}]} | | BAD_REQUEST |

*!
!***> Read data of recordType yesNoUnknown to make sure it was stored ok

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| yes | myYes | {"record":{"data":{"children":[{"children":[{"name":"id","value":"myYes"},{"name":"type","value":"yes"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"yesNoUnknownVar","value":"yes"}],"name":"yes"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yes/myYes","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yes/myYes","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/yes/myYes","accept":"application/uub+record+json"}}}} | OK |

*!

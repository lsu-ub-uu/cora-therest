!contents -R2 -g -p -f -h
| import |
| se.uu.ub.cora.therest.fitnesse |

!1 RecordLink tests
The goal of this test is to show that it is possible to link one record to another. A record link connects one record to another record. It may also contain a linkedPath, which points to a specific part of a record.

!2 Read predefined metadata to make sure it is correct
!***> Read textVariables

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataTextVariable | linkedRecordTypeTextVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"linkedRecordTypeTextVar"},{"name":"type","value":"metadataTextVariable"},{"name":"createdBy","value":"userId"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"linkedRecordType"},{"name":"textId","value":"linkedRecordTypeTextVarText"},{"name":"defTextId","value":"linkedRecordTypeTextVarDefText"},{"name":"regEx","value":"(^[0-9A-Za-z:-_]{2,50}$)"}],"name":"metadata","attributes":{"type":"textVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/linkedRecordTypeTextVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/linkedRecordTypeTextVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/linkedRecordTypeTextVar"}}}} | OK |
| metadataTextVariable | linkedRecordIdTextVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"linkedRecordIdTextVar"},{"name":"type","value":"metadataTextVariable"},{"name":"createdBy","value":"userId"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"linkedRecordId"},{"name":"textId","value":"linkedRecordIdTextVarText"},{"name":"defTextId","value":"linkedRecordIdTextVarDefText"},{"name":"regEx","value":"(^[0-9A-Za-z:-_]{2,50}$)"}],"name":"metadata","attributes":{"type":"textVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/linkedRecordIdTextVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/linkedRecordIdTextVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/linkedRecordIdTextVar"}}}} | OK |
| metadataTextVariable | linkedRepeatIdTextVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"linkedRepeatIdTextVar"},{"name":"type","value":"metadataTextVariable"},{"name":"createdBy","value":"userId"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"linkedRepeatId"},{"name":"textId","value":"linkedRepeatIdTextVarText"},{"name":"defTextId","value":"linkedRepeatIdTextVarDefText"},{"name":"regEx","value":"(^[0-9A-Za-z:-_]{1,50}$)"}],"name":"metadata","attributes":{"type":"textVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/linkedRepeatIdTextVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/linkedRepeatIdTextVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/linkedRepeatIdTextVar"}}}} | OK |
| metadataTextVariable | finalValueTextVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"finalValueTextVar"},{"name":"type","value":"metadataTextVariable"},{"name":"createdBy","value":"userId"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"finalValue"},{"name":"textId","value":"finalValueTextVarText"},{"name":"defTextId","value":"finalValueTextVarDefText"},{"name":"regEx","value":"(^[0-9A-Za-z:-_]{2,50}$)"}],"name":"metadata","attributes":{"type":"textVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/finalValueTextVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/finalValueTextVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/finalValueTextVar"}}}} | OK |
| metadataTextVariable | refParentIdTextVar | {"record":{"data":{"children":[{"children":[{"name":"id","value":"refParentIdTextVar"},{"name":"type","value":"metadataTextVariable"},{"name":"createdBy","value":"userId"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"refParentId"},{"name":"textId","value":"refParentIdTextVarText"},{"name":"defTextId","value":"refParentIdTextVarDefText"},{"name":"regEx","value":"(^[0-9A-Za-z:-_]{2,50}$)"}],"name":"metadata","attributes":{"type":"textVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/refParentIdTextVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/refParentIdTextVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataTextVariable/refParentIdTextVar"}}}} | OK |

*!
!***> Read metadataGroups (metadataRecordRelationGroup, metadataRecordRelationNewGroup)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataGroup | metadataRecordLinkGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"metadataRecordLinkGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"userId"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"metadata"},{"name":"textId","value":"metadataRecordLinkGroupText"},{"name":"defTextId","value":"metadataRecordLinkGroupDefText"},{"children":[{"repeatId":"1","children":[{"name":"ref","value":"recordInfoGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"nameInDataTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"3","children":[{"name":"ref","value":"textIdTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"4","children":[{"name":"ref","value":"defTextIdTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"5","children":[{"name":"ref","value":"linkedRecordTypeTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"6","children":[{"name":"ref","value":"linkedPathGroup"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"7","children":[{"name":"ref","value":"refParentIdTextVar"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"8","children":[{"name":"ref","value":"finalValueTextVar"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"},{"children":[{"repeatId":"0","name":"ref","value":"metadataTypeRecordLinkCollectionVar"}],"name":"attributeReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/metadataRecordLinkGroup","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/metadataRecordLinkGroup","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataGroup/metadataRecordLinkGroup"}}}} | OK |
| metadataGroup | metadataRecordLinkNewGroup | {"record":{"data":{"children":[{"children":[{"name":"id","value":"metadataRecordLinkNewGroup"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"userId"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"nameInData","value":"metadata"},{"name":"textId","value":"metadataRecordLinkNewGroupText"},{"name":"defTextId","value":"metadataRecordLinkNewGroupDefText"},{"children":[{"repeatId":"0","name":"ref","value":"metadataTypeRecordLinkCollectionVar"}],"name":"attributeReferences"},{"children":[{"repeatId":"1","children":[{"name":"ref","value":"recordInfoNewGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"2","children":[{"name":"ref","value":"nameInDataTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"3","children":[{"name":"ref","value":"textIdTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"4","children":[{"name":"ref","value":"defTextIdTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"5","children":[{"name":"ref","value":"linkedRecordTypeTextVar"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"6","children":[{"name":"ref","value":"linkedPathGroup"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"7","children":[{"name":"ref","value":"refParentIdTextVar"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"},{"repeatId":"8","children":[{"name":"ref","value":"finalValueTextVar"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/metadataRecordLinkNewGroup","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/metadataRecordLinkNewGroup","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataGroup/metadataRecordLinkNewGroup"}}}} | OK |

*!
!***> Read recordType (metadataRecordLink)

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| recordType | metadataRecordLink | {"record":{"data":{"children":[{"name":"metadataId","value":"metadataRecordLinkGroup"},{"name":"abstract","value":"false"},{"name":"parentId","value":"metadata"},{"children":[{"name":"id","value":"metadataRecordLink"},{"name":"type","value":"recordType"},{"name":"createdBy","value":"userId"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"}],"name":"recordInfo"},{"name":"presentationViewId","value":"metadataRecordLinkViewPGroup"},{"name":"presentationFormId","value":"metadataRecordLinkFormPGroup"},{"name":"newMetadataId","value":"metadataRecordLinkNewGroup"},{"name":"newPresentationFormId","value":"metadataRecordLinkFormNewPGroup"},{"name":"menuPresentationViewId","value":"metadataRecordLinkMenuPGroup"},{"name":"listPresentationViewId","value":"metadataRecordLinkListPGroup"},{"name":"searchMetadataId","value":"metadataRecordLinkSearchGroup"},{"name":"searchPresentationFormId","value":"metadataRecordLinkFormSearchPGroup"},{"name":"userSuppliedId","value":"true"},{"name":"permissionKey","value":"RECORDTYPE_METADATARECORDLINK"},{"name":"selfPresentationViewId","value":"metadataRecordLinkViewSelfPGroup"},{"name":"textId","value":"metadataRecordLinkText"},{"name":"defTextId","value":"metadataRecordLinkDefText"}],"name":"recordType"},"actionLinks":{"search":{"requestMethod":"GET","rel":"search","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/","accept":"application/uub+recordList+json"},"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/recordType/metadataRecordLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/metadataRecordLink","accept":"application/uub+record+json"},"create":{"requestMethod":"POST","rel":"create","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/","accept":"application/uub+record+json"},"list":{"requestMethod":"GET","rel":"list","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/","accept":"application/uub+recordList+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/recordType/metadataRecordLink"}}}} | OK |

*!
!2 Metadata
Create metadata needed for link test.

Metadata for recordLinks(metadataRecordLink) is a standard part of the system, so we can use it right away.

!***> Create collectionItems

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataCollectionItem | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"itemSmall"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"nameInData","value":"small"},{"name":"textId","value":"itemSmallText"},{"name":"defTextId","value":"itemSmallDefText"}],"attributes":{"type":"collectionItem"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"itemSmall"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataCollectionItem"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"small"},{"name":"textId","value":"itemSmallText"},{"name":"defTextId","value":"itemSmallDefText"}],"name":"metadata","attributes":{"type":"collectionItem"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemSmall","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemSmall","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataCollectionItem/itemSmall"}}}} | CREATED |
| metadataCollectionItem | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"itemBig"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"nameInData","value":"big"},{"name":"textId","value":"itemBigText"},{"name":"defTextId","value":"itemBigDefText"}],"attributes":{"type":"collectionItem"}} | | CREATED |

*!
!***> Create itemCollection

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataItemCollection | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"subBushTypeCollection"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"nameInData","value":"subBushType"},{"name":"textId","value":"itemSmallBigText"},{"name":"defTextId","value":"itemSmallBigDefText"},{"name":"collectionItemReferences","children":[{"name":"ref","repeatId":"0","value":"itemSmall"},{"name":"ref","repeatId":"1","value":"itemBig"}]}],"attributes":{"type":"itemCollection"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"subBushTypeCollection"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataItemCollection"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"subBushType"},{"name":"textId","value":"itemSmallBigText"},{"name":"defTextId","value":"itemSmallBigDefText"},{"children":[{"repeatId":"0","name":"ref","value":"itemSmall"},{"repeatId":"1","name":"ref","value":"itemBig"}],"name":"collectionItemReferences"}],"name":"metadata","attributes":{"type":"itemCollection"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/subBushTypeCollection","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/subBushTypeCollection","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataItemCollection/subBushTypeCollection"}}}} | CREATED |

*!
!***> Create collectionVariable (subBushTypeVar)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataCollectionVariable | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"subBushTypeVar"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"nameInData","value":"type"},{"name":"textId","value":"itemSmallBigVarText"},{"name":"defTextId","value":"itemSmallBigVarDefText"},{"name":"refCollectionId","value":"subBushTypeCollection"}],"attributes":{"type":"collectionVariable"}} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"subBushTypeVar"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataCollectionVariable"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"type"},{"name":"textId","value":"itemSmallBigVarText"},{"name":"defTextId","value":"itemSmallBigVarDefText"},{"name":"refCollectionId","value":"subBushTypeCollection"}],"name":"metadata","attributes":{"type":"collectionVariable"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/subBushTypeVar","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/subBushTypeVar","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataCollectionVariable/subBushTypeVar"}}}} | CREATED |

*!
!***> Create collectionVariable (subBushSmallType)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataCollectionVariable | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"subBushSmallType"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"nameInData","value":"type"},{"name":"textId","value":"itemSmallBigVarText"},{"name":"defTextId","value":"itemSmallBigVarDefText"},{"name":"refCollectionId","value":"subBushTypeCollection"},{"name":"refParentId","value":"subBushTypeVar"},{"name":"finalValue","value":"small"}],"attributes":{"type":"collectionVariable"}} | | CREATED |

*!
!***> Create metadata for recordLinks (testLink and testLinkPath(has a linkedPath))

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataRecordLink | {"name":"metadata","attributes":{"type":"recordLink"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"testLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"nameInData","value":"testLink"},{"name":"textId","value":"testLinkText"},{"name":"defTextId","value":"testLinkDefText"},{"name":"linkedRecordType","value":"bush"}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"testLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataRecordLink"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"testLink"},{"name":"textId","value":"testLinkText"},{"name":"defTextId","value":"testLinkDefText"},{"name":"linkedRecordType","value":"bush"}],"name":"metadata","attributes":{"type":"recordLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/testLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/testLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/testLink"}}}} | CREATED |
| metadataRecordLink | {"name":"metadata","attributes":{"type":"recordLink"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"testLinkPath"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"nameInData","value":"testLinkPath"},{"name":"textId","value":"testLinkText"},{"name":"defTextId","value":"testLinkDefText"},{"name":"linkedRecordType","value":"bush"},{"name":"linkedPath","children":[{"name":"nameInData","value":"name"},{"name":"attributes","children":[{"name":"attribute","repeatId":"1","children":[{"name":"attributeName","value":"nameForm"},{"name":"attributeValue","value":"alternative"}]}]}]}]} | | CREATED |
| metadataRecordLink | {"name":"metadata","attributes":{"type":"recordLink"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"testParentFinalValueLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"nameInData","value":"testParentFinalValueLink"},{"name":"textId","value":"testParentFinalValueLinkText"},{"name":"defTextId","value":"testParentFinalValueLinkDefText"}, {"name":"refParentId","value":"testLink"},{"name":"finalValue","value":"bush1"},{"name":"linkedRecordType","value":"bush"}]} | | CREATED |
| metadataRecordLink | {"name":"metadata","children":[{"name":"recordInfo","children":[{"name":"id","value":"testRecordLinkWithNoDataLink"},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]}]},{"name":"nameInData","value":"testRecordLinkWithNoDataLink"},{"name":"textId","value":"dummyRecordLinkText"},{"name":"defTextId","value":"dummyRecordLinkDefText"},{"name":"linkedRecordType","value":"someRecordType"}],"attributes":{"type":"recordLink"}} | | CREATED |

*!
!***> Read metadata for recordLink (testLink) to ensure that we can read metadata for recordLinks

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| metadataRecordLink | testLink | {"record":{"data":{"children":[{"children":[{"name":"id","value":"testLink"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataRecordLink"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"nameInData","value":"testLink"},{"name":"textId","value":"testLinkText"},{"name":"defTextId","value":"testLinkDefText"},{"name":"linkedRecordType","value":"bush"}],"name":"metadata","attributes":{"type":"recordLink"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/testLink","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/testLink","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataRecordLink/testLink"}}}} | OK |

*!
!***> Create a metadataGroup(subBush, bushNew, bush), that uses the recordLinks

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| metadataGroup | {"name":"metadata","attributes":{"type":"group"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"subBushGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"textId","value":"subBushGroupText"},{"name":"defTextId","value":"subBushGroupDefText"},{"name":"nameInData","value":"subBush"},{"name":"childReferences","children":[{"name":"childReference","repeatId":"2","children":[{"name":"ref","value":"testLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]}]}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"subBushGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"metadataGroup"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"textId","value":"subBushGroupText"},{"name":"defTextId","value":"subBushGroupDefText"},{"name":"nameInData","value":"subBush"},{"children":[{"repeatId":"2","children":[{"name":"ref","value":"testLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}],"name":"childReference"}],"name":"childReferences"}],"name":"metadata","attributes":{"type":"group"}},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/metadataGroup/subBushGroup","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/metadataGroup/subBushGroup","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/metadataGroup/subBushGroup"}}}} | CREATED |
| metadataGroup | {"name":"metadata","attributes":{"type":"group"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"otherSubBushGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"textId","value":"otherSubBushGroupText"},{"name":"defTextId","value":"otherSubBushGroupDefText"},{"name":"nameInData","value":"subBush"},{"name":"attributeReferences","children":[{"name":"ref","value":"subBushSmallType","repeatId":"1"}]},{"name":"childReferences","children":[{"name":"childReference","repeatId":"1","children":[{"name":"ref","value":"testLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]}]}]} | | CREATED |
| metadataGroup | {"name":"metadata","attributes":{"type":"group"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"dummyRecordTypeGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"textId","value":"dummyRecordTypeGroupText"},{"name":"defTextId","value":"dummyRecordTypeGroupDefText"},{"name":"nameInData","value":"dummyRecordTypeGroup"},{"name":"childReferences","children":[{"name":"childReference","repeatId":"1","children":[{"name":"ref","value":"testRecordLinkWithNoDataLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]}]}]} | | CREATED |
| metadataGroup | {"name":"metadata","attributes":{"type":"group"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"bushNewGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"textId","value":"bushNewGroupText"},{"name":"defTextId","value":"bushNewGroupDefText"},{"name":"nameInData","value":"bush"},{"name":"childReferences","children":[{"name":"childReference","repeatId":"1","children":[{"name":"ref","value":"recordInfoNewGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]},{"name":"childReference","repeatId":"2","children":[{"name":"ref","value":"testLink"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"5"}]},{"name":"childReference","repeatId":"22","children":[{"name":"ref","value":"testRecordLinkWithNoDataLink"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}]},{"name":"childReference","repeatId":"3","children":[{"name":"ref","value":"testLinkPath"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"2"}]},{"name":"childReference","repeatId":"4","children":[{"name":"ref","value":"subBushGroup"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}]},{"name":"childReference","repeatId":"4b","children":[{"name":"ref","value":"otherSubBushGroup"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}]}]}]} | | CREATED |
| metadataGroup | {"name":"metadata","attributes":{"type":"group"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"bushGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"textId","value":"bushGroupText"},{"name":"defTextId","value":"bushGroupDefText"},{"name":"nameInData","value":"bush"},{"name":"childReferences","children":[{"name":"childReference","repeatId":"x1","children":[{"name":"ref","value":"recordInfoGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]},{"name":"childReference","repeatId":"y1","children":[{"name":"ref","value":"testLink"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"5"}]},{"name":"childReference","repeatId":"3","children":[{"name":"ref","value":"testLinkPath"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"2"}]},{"name":"childReference","repeatId":"4","children":[{"name":"ref","value":"subBushGroup"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}]},{"name":"childReference","repeatId":"4b","children":[{"name":"ref","value":"otherSubBushGroup"},{"name":"repeatMin","value":"0"},{"name":"repeatMax","value":"1"}]}]}]} | | CREATED |
| metadataGroup | {"name":"metadata","attributes":{"type":"group"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"bushLinkingToOtherBushGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"textId","value":"bushLinkingToOtherBushText"},{"name":"defTextId","value":"bushLinkingToOtherBushDefText"},{"name":"nameInData","value":"bushLinkingToOtherBush"},{"name":"childReferences","children":[{"name":"childReference","repeatId":"1","children":[{"name":"ref","value":"recordInfoGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]},{"name":"childReference","repeatId":"2","children":[{"name":"ref","value":"testParentFinalValueLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]}]}]} | | CREATED |
| metadataGroup | {"name":"metadata","attributes":{"type":"group"},"children":[{"name":"recordInfo","children":[{"name":"id","value":"bushLinkingToOtherBushNewGroup"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"textId","value":"bushLinkingToOtherBushText"},{"name":"defTextId","value":"bushLinkingToOtherBushDefText"},{"name":"nameInData","value":"bushLinkingToOtherBush"},{"name":"childReferences","children":[{"name":"childReference","repeatId":"1","children":[{"name":"ref","value":"recordInfoNewGroup"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]},{"name":"childReference","repeatId":"2","children":[{"name":"ref","value":"testParentFinalValueLink"},{"name":"repeatMin","value":"1"},{"name":"repeatMax","value":"1"}]}]}]} | | CREATED |

*!
!***> Create a recordType(bush)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| recordType | {"name":"recordType","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"metadataId","value":"bushGroup"},{"name":"abstract","value":"false"},{"name":"presentationViewId","value":"bushViewPGroup"},{"name":"presentationFormId","value":"bushFormPGroup"},{"name":"newMetadataId","value":"bushNewGroup"},{"name":"newPresentationFormId","value":"bushFormNewPGroup"},{"name":"menuPresentationViewId","value":"bushMenuPGroup"},{"name":"listPresentationViewId","value":"bushListPGroup"},{"name":"searchMetadataId","value":"bushSearchGroup"},{"name":"searchPresentationFormId","value":"bushSearchPGroup"},{"name":"userSuppliedId","value":"true"},{"name":"selfPresentationViewId","value":"bushViewSelfPGroup"},{"name":"permissionKey","value":"RECORDTYPE_BUSH"},{"name":"textId","value":"bushText"},{"name":"defTextId","value":"bushDefText"}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"bush"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"recordType"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"name":"metadataId","value":"bushGroup"},{"name":"abstract","value":"false"},{"name":"presentationViewId","value":"bushViewPGroup"},{"name":"presentationFormId","value":"bushFormPGroup"},{"name":"newMetadataId","value":"bushNewGroup"},{"name":"newPresentationFormId","value":"bushFormNewPGroup"},{"name":"menuPresentationViewId","value":"bushMenuPGroup"},{"name":"listPresentationViewId","value":"bushListPGroup"},{"name":"searchMetadataId","value":"bushSearchGroup"},{"name":"searchPresentationFormId","value":"bushSearchPGroup"},{"name":"userSuppliedId","value":"true"},{"name":"selfPresentationViewId","value":"bushViewSelfPGroup"},{"name":"permissionKey","value":"RECORDTYPE_BUSH"},{"name":"textId","value":"bushText"},{"name":"defTextId","value":"bushDefText"}],"name":"recordType"},"actionLinks":{"search":{"requestMethod":"GET","rel":"search","url":"http://localhost:8080/therest/rest/record/bush/","accept":"application/uub+recordList+json"},"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/recordType/bush","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/recordType/bush","accept":"application/uub+record+json"},"create":{"requestMethod":"POST","rel":"create","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/","accept":"application/uub+record+json"},"list":{"requestMethod":"GET","rel":"list","url":"http://localhost:8080/therest/rest/record/bush/","accept":"application/uub+recordList+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/recordType/bush"}}}} | CREATED |
| recordType | {"name":"recordType","children":[{"name":"recordInfo","children":[{"name":"id","value":"bushLinkingToOtherBush"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"metadataId","value":"bushLinkingToOtherBushGroup"},{"name":"abstract","value":"false"},{"name":"presentationViewId","value":"bushLinkingToOtherBushViewPGroup"},{"name":"presentationFormId","value":"bushLinkingToOtherBushFormGroup"},{"name":"newMetadataId","value":"bushLinkingToOtherBushNewGroup"},{"name":"newPresentationFormId","value":"bushLinkingToOtherBushFormNewGroup"},{"name":"menuPresentationViewId","value":"bushLinkingToOtherBushMenuPGroup"},{"name":"listPresentationViewId","value":"bushLinkingToOtherBushListPGroup"},{"name":"searchMetadataId","value":"bushLinkingToOtherBushSearchPGroup"},{"name":"searchPresentationFormId","value":"bushLinkingToOtherBushSearchFormPGroup"},{"name":"userSuppliedId","value":"true"},{"name":"selfPresentationViewId","value":"bushLinkingToOtherBushSelfPGroup"},{"name":"permissionKey","value":"RECORDTYPE_BUSHLINKINGTOBUSH"},{"name":"textId","value":"bushLinkingToOtherBushText"},{"name":"defTextId","value":"bushLinkingToOtherBushDefText"}]} | | CREATED |

*!
!2 Data
Creating records with links

!***> Create records of type (bush1 (no links), bush2 (link to:bush1, bush1), bush3 (link to: bush1), bush4 (link to:bush1, bush2), bush5 (link to:bush2)), bush6 (link to: bush1 (from a dataGroup one level down) )

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush1"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"bush1"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"}],"name":"bush"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush1","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/bush1","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/bush/bush1"}}}} | CREATED |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush2"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testLink","repeatId":"1","children":[{"name":"linkedRecordId","value":"bush1"},{"name":"linkedRecordType","value":"bush"}]},{"name":"testLinkPath","repeatId":"2","children":[{"name":"linkedRecordId","value":"bush1"},{"name":"linkedRepeatId","value":"one"},{"name":"linkedRecordType","value":"bush"}]}]} | | CREATED |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush3"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testLink","repeatId":"1","children":[{"name":"linkedRecordId","value":"bush1"},{"name":"linkedRecordType","value":"bush"}]}]} | | CREATED |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush4"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testLink","repeatId":"1","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}]},{"name":"testLinkPath","repeatId":"2","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2"},{"name":"linkedRepeatId","value":"one"}]}]} | | CREATED |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush5"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testLinkPath","repeatId":"1","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2"},{"name":"linkedRepeatId","value":"one"}]}]} | | CREATED |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush6"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"subBush","children":[{"name":"testLink","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}]}]}]} | | CREATED |
| bushLinkingToOtherBush | {"name":"bushLinkingToOtherBush","children":[{"name":"recordInfo","children":[{"name":"id","value":"linkedBush1"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testParentFinalValueLink","children":[{"name":"linkedRecordId","value":"bush1"},{"name":"linkedRecordType","value":"bush"}]}]} | | CREATED |
| bushLinkingToOtherBush | {"name":"bushLinkingToOtherBush","children":[{"name":"recordInfo","children":[{"name":"id","value":"linkedBush2"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testParentFinalValueLink","children":[{"name":"linkedRecordId","value":"NOT_bush1"},{"name":"linkedRecordType","value":"bush"}]}]} | | BAD_REQUEST |

*!
!***> Read data on bush (bush1, bush5)  to ensure that we can read data for recordType bush

!| RecordEndpointFixture |
| type | id | testReadRecord? | getStatusType? |
| bush | bush1 | {"record":{"data":{"children":[{"children":[{"name":"id","value":"bush1"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"}],"name":"bush"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush1","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/bush/bush1/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/bush1","accept":"application/uub+record+json"}}}} | OK |
| bush | bush5 | {"record":{"data":{"children":[{"children":[{"name":"id","value":"bush5"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"repeatId":"1","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2"},{"name":"linkedRepeatId","value":"one"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush2","accept":"application/uub+record+json"}},"name":"testLinkPath"}],"name":"bush"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush5","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/bush5","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/bush/bush5"}}}} | OK |

*!
!***> List data(bush)  to ensure that we can list data of recordType bush

!| RecordEndpointFixture |
| type | testReadRecordList? | getStatusType? |
| bush | {"dataList":{"fromNo":"1","data":[{"record":{"data":{"children":[{"children":[{"name":"id","value":"bush3"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"repeatId":"1","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush1","accept":"application/uub+record+json"}},"name":"testLink"}],"name":"bush"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush3","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/bush3","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/bush/bush3"}}}},{"record":{"data":{"children":[{"children":[{"name":"id","value":"bush2"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"repeatId":"1","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush1","accept":"application/uub+record+json"}},"name":"testLink"},{"repeatId":"2","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"},{"name":"linkedRepeatId","value":"one"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush1","accept":"application/uub+record+json"}},"name":"testLinkPath"}],"name":"bush"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush2","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/bush/bush2/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/bush2","accept":"application/uub+record+json"}}}},{"record":{"data":{"children":[{"children":[{"name":"id","value":"bush1"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"}],"name":"bush"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush1","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/bush/bush1/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/bush1","accept":"application/uub+record+json"}}}},{"record":{"data":{"children":[{"children":[{"name":"id","value":"bush6"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush1","accept":"application/uub+record+json"}},"name":"testLink"}],"name":"subBush"}],"name":"bush"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush6","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/bush6","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/bush/bush6"}}}},{"record":{"data":{"children":[{"children":[{"name":"id","value":"bush5"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"repeatId":"1","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2"},{"name":"linkedRepeatId","value":"one"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush2","accept":"application/uub+record+json"}},"name":"testLinkPath"}],"name":"bush"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush5","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/bush5","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/bush/bush5"}}}},{"record":{"data":{"children":[{"children":[{"name":"id","value":"bush4"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"},{"repeatId":"1","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush1","accept":"application/uub+record+json"}},"name":"testLink"},{"repeatId":"2","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2"},{"name":"linkedRepeatId","value":"one"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush2","accept":"application/uub+record+json"}},"name":"testLinkPath"}],"name":"bush"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush4","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/bush4","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/bush/bush4"}}}}],"totalNo":"6","containDataOfType":"bush","toNo":"6"}} | OK |

*!
!2 Incoming links
These test show that we can get a list of all records that link to a specified record

!***> Read incomingLinks for bush1, bush2

!| RecordEndpointFixture |
| type | id | testReadIncomingLinks? | getStatusType? |
| bush | bush1 | {"dataList":{"fromNo":"1","data":[{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush3"},{"name":"linkedRepeatId","value":"1"},{"children":[{"name":"nameInData","value":"testLink"},{"name":"repeatId","value":"1"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush3","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"name":"to"}],"name":"recordToRecordLink"},{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2"},{"name":"linkedRepeatId","value":"1"},{"children":[{"name":"nameInData","value":"testLink"},{"name":"repeatId","value":"1"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush2","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"name":"to"}],"name":"recordToRecordLink"},{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2"},{"name":"linkedRepeatId","value":"2"},{"children":[{"name":"nameInData","value":"testLinkPath"},{"name":"repeatId","value":"2"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush2","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"},{"name":"linkedRepeatId","value":"one"},{"children":[{"name":"nameInData","value":"name"},{"children":[{"repeatId":"1","children":[{"name":"attributeName","value":"nameForm"},{"name":"attributeValue","value":"alternative"}],"name":"attribute"}],"name":"attributes"}],"name":"linkedPath"}],"name":"to"}],"name":"recordToRecordLink"},{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush6"},{"children":[{"name":"nameInData","value":"subBush"},{"children":[{"name":"nameInData","value":"testLink"}],"name":"linkedPath"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush6","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"name":"to"}],"name":"recordToRecordLink"},{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush4"},{"name":"linkedRepeatId","value":"1"},{"children":[{"name":"nameInData","value":"testLink"},{"name":"repeatId","value":"1"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush4","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"name":"to"}],"name":"recordToRecordLink"},{"children":[{"children":[{"name":"linkedRecordType","value":"bushLinkingToOtherBush"},{"name":"linkedRecordId","value":"linkedBush1"},{"children":[{"name":"nameInData","value":"testParentFinalValueLink"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bushLinkingToOtherBush/linkedBush1","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"name":"to"}],"name":"recordToRecordLink"}],"totalNo":"6","containDataOfType":"recordToRecordLink","toNo":"6"}} | OK |
| bush | bush2 | {"dataList":{"fromNo":"1","data":[{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush5"},{"name":"linkedRepeatId","value":"1"},{"children":[{"name":"nameInData","value":"testLinkPath"},{"name":"repeatId","value":"1"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush5","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2"},{"name":"linkedRepeatId","value":"one"},{"children":[{"name":"nameInData","value":"name"},{"children":[{"repeatId":"1","children":[{"name":"attributeName","value":"nameForm"},{"name":"attributeValue","value":"alternative"}],"name":"attribute"}],"name":"attributes"}],"name":"linkedPath"}],"name":"to"}],"name":"recordToRecordLink"},{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush4"},{"name":"linkedRepeatId","value":"2"},{"children":[{"name":"nameInData","value":"testLinkPath"},{"name":"repeatId","value":"2"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush4","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2"},{"name":"linkedRepeatId","value":"one"},{"children":[{"name":"nameInData","value":"name"},{"children":[{"repeatId":"1","children":[{"name":"attributeName","value":"nameForm"},{"name":"attributeValue","value":"alternative"}],"name":"attribute"}],"name":"attributes"}],"name":"linkedPath"}],"name":"to"}],"name":"recordToRecordLink"}],"totalNo":"2","containDataOfType":"recordToRecordLink","toNo":"2"}} | OK |

*!
Delete and update to ensure that incoming links are deleted and updated correctly, and that delete is not allowed when incoming links exists

!***> Delete bush 3 and try to delete bush 1

!| RecordEndpointFixture |
| type | id | testDeleteRecord? | getStatusType? |
| bush | bush3 | | OK |
| bush | bush1 | | METHOD_NOT_ALLOWED |

*!
!***> Update bush2 to no longer link to bush1

!| RecordEndpointFixture |
| type | id | json | testUpdateRecord? | getStatusType? |
| bush | bush2 | {"children":[{"children":[{"name":"id","value":"bush2"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"}],"name":"bush"} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"bush2"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"}],"name":"bush"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush2","accept":"application/uub+record+json"},"read_incoming_links":{"requestMethod":"GET","rel":"read_incoming_links","url":"http://localhost:8080/therest/rest/record/bush/bush2/incomingLinks","accept":"application/uub+recordList+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/bush2","accept":"application/uub+record+json"}}}} | OK |

*!
!***> Read incomingLinks for bush1 (should no longer be pointed to from bush3 or bush2)

!| RecordEndpointFixture |
| type | id | testReadIncomingLinks? | getStatusType? |
| bush | bush1 | {"dataList":{"fromNo":"1","data":[{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush6"},{"children":[{"name":"nameInData","value":"subBush"},{"children":[{"name":"nameInData","value":"testLink"}],"name":"linkedPath"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush6","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"name":"to"}],"name":"recordToRecordLink"},{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush4"},{"name":"linkedRepeatId","value":"1"},{"children":[{"name":"nameInData","value":"testLink"},{"name":"repeatId","value":"1"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush4","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"name":"to"}],"name":"recordToRecordLink"},{"children":[{"children":[{"name":"linkedRecordType","value":"bushLinkingToOtherBush"},{"name":"linkedRecordId","value":"linkedBush1"},{"children":[{"name":"nameInData","value":"testParentFinalValueLink"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bushLinkingToOtherBush/linkedBush1","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}],"name":"to"}],"name":"recordToRecordLink"}],"totalNo":"3","containDataOfType":"recordToRecordLink","toNo":"3"}} | OK |

*!
!2 Attributes
Creating records with links in dataGroups with attributes

!***> Create records of type (bush2_1 (no links), bush2_2 (link to:bush2_1, bush2_1)

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush2_1"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]}]} | {"record":{"data":{"children":[{"children":[{"name":"id","value":"bush2_1"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/system/cora","accept":"application/uub+record+json"}},"name":"dataDivider"},{"name":"type","value":"bush"},{"name":"createdBy","value":"userId"}],"name":"recordInfo"}],"name":"bush"},"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush2_1","accept":"application/uub+record+json"},"update":{"requestMethod":"POST","rel":"update","contentType":"application/uub+record+json","url":"http://localhost:8080/therest/rest/record/bush/bush2_1","accept":"application/uub+record+json"},"delete":{"requestMethod":"DELETE","rel":"delete","url":"http://localhost:8080/therest/rest/record/bush/bush2_1"}}}} | CREATED |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush2_2"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"subBush","children":[{"name":"testLink","children":[{"name":"linkedRecordId","value":"bush2_1"},{"name":"linkedRecordType","value":"bush"}]}]},{"name":"subBush","attributes":{"type":"small"},"children":[{"name":"testLink","children":[{"name":"linkedRecordId","value":"bush2_1"},{"name":"linkedRecordType","value":"bush"}]}]}]} | | CREATED |

*!
!***> Read incomingLinks for bush2_1 (links have path with different attributes)

!| RecordEndpointFixture |
| type | id | testReadIncomingLinks? | getStatusType? |
| bush | bush2_1 | {"dataList":{"fromNo":"1","data":[{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2_2"},{"children":[{"name":"nameInData","value":"subBush"},{"children":[{"name":"nameInData","value":"testLink"}],"name":"linkedPath"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush2_2","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2_1"}],"name":"to"}],"name":"recordToRecordLink"},{"children":[{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2_2"},{"children":[{"name":"nameInData","value":"subBush"},{"children":[{"children":[{"name":"attributeName","value":"type"},{"name":"attributeValue","value":"small"}],"name":"attribute"}],"name":"attributes"},{"children":[{"name":"nameInData","value":"testLink"}],"name":"linkedPath"}],"name":"linkedPath"}],"actionLinks":{"read":{"requestMethod":"GET","rel":"read","url":"http://localhost:8080/therest/rest/record/bush/bush2_2","accept":"application/uub+record+json"}},"name":"from"},{"children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2_1"}],"name":"to"}],"name":"recordToRecordLink"}],"totalNo":"2","containDataOfType":"recordToRecordLink","toNo":"2"}} | OK |

*!
!2 Invalid data
Try to create data that is invalid

!***> Try to create data on bush with invalid link data, this should fail

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush_2"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testLink","children":[{"name":"id","value":""}]}]} | | BAD_REQUEST |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush_3"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testLink","children":[{"name":"linkedRecordType","value":""},{"name":"linkedRecordId","value":"otherId"}]}]} | | BAD_REQUEST |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush_4"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testLink","children":[{"name":"linkedRecordType","value":"someRecordType"},{"name":"linkedRecordId","value":""}]}]} | | BAD_REQUEST |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush_1"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testLink","children":[{"name":"linkedRecordType","value":"wrongRecordType"},{"name":"linkedRecordId","value":"someRecordId1"}]}]} | | BAD_REQUEST |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush_5"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testLinkPath","repeatId":"1","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush2"}]}]} | Data is not valid: [DataRecordLink with nameInData:testLinkPath should have a linkedRepeatId] | BAD_REQUEST |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush22"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"testLink","repeatId":"1","children":[{"name":"linkedRecordId","value":"NOTbush1"},{"name":"linkedRecordType","value":"bush"}]},{"name":"testLinkPath","repeatId":"2","children":[{"name":"linkedRecordId","value":"bush1"},{"name":"linkedRepeatId","value":"one"},{"name":"linkedRecordType","value":"bush"}]}]} | Data is not valid: linkedRecord does not exists in storage for recordType: bush and recordId: NOTbush1 | BAD_REQUEST |
| bush | {"name":"bush","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush56"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]},{"name":"subBush","children":[{"name":"testLink","children":[{"name":"linkedRecordType","value":"bush"},{"name":"linkedRecordId","value":"bush1"}]}]},{"name":"testRecordLinkWithNoDataLink","children":[{"name":"linkedRecordType","value":"someRecordType"},{"name":"linkedRecordId","value":"bush1"}]}]} | Data is not valid: linkedRecord does not exists in storage for recordType: someRecordType and recordId: bush1 | BAD_REQUEST |

*!
!***> Try to create data on bush2, which doesn't exist

!| RecordEndpointFixture |
| type | json | testCreateRecord? | getStatusType? |
| bush1 | {"name":"bush2","children":[{"name":"recordInfo","children":[{"name":"id","value":"bush1"},{"children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}],"name":"dataDivider"}]}]} | No record exists with recordId: bush1 | NOT_FOUND |

*!
